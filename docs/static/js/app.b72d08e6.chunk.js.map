{"version":3,"sources":["navigation/LinkingConfiguration.ts","constants/Colors.ts","state/articles/articles.state.ts","state/articles/articles.reducer.ts","state/tags/tags.reducer.ts","state/tags/tags.state.ts","state/user/user.reducer.ts","constants/Config.ts","state/user/user.state.ts","api/client.ts","api/tags/tags.db.ts","utils/index.ts","api/articles/articles.db.ts","api/articles/articles.mock.ts","api/tags/tags.mock.ts","api/user/user.db.ts","api/user/user.query.ts","api/user/user.mock.ts","state/user/user.creators.ts","context/user.context.tsx","api/tags/tags.query.ts","state/tags/tags.creators.ts","context/content-tags.context.tsx","context/source-tags.context.tsx","context/sentiment-tags.context.tsx","api/articles/articles.query.ts","context/articles.context.tsx","state/articles/articles.creators.ts","context/filters.context.tsx","screens/LoginScreen.tsx","components/TopTabNavigationBar.tsx","context/preferred-tags.context.tsx","navigation/TopTabNavigator.tsx","components/RefreshControl.tsx","components/Tile.tsx","components/ListComponent.tsx","screens/SearchScreen.tsx","utils/debounce.ts","screens/FavoritesScreen.tsx","components/BottomNavigationBar.tsx","components/DropdownList.tsx","components/NavbarIconButton.tsx","screens/ListScreen.tsx","navigation/RootNavigator.tsx","screens/SettingsScreen.tsx","screens/HelpScreen.tsx","screens/DetailsScreen.tsx","components/Themed.tsx","screens/NotFoundScreen.tsx","screens/CategoriesScreen.tsx","navigation/AuthNavigation.tsx","navigation/index.tsx","workers/serviceWorkerRegistration.js","components/InstallPrompt.tsx","constants/Browser.ts","screens/InstallScreen.tsx","App.tsx","hooks/useCachedResources.ts","assets/fonts/SpaceMono-Regular.ttf"],"names":["hasNestedRoute","route","routeName","name","state","routes","index","linking","prefixes","Linking","config","screens","Home","path","initialRouteName","Root","ArticleList","Search","Favorites","Login","Settings","Categories","Help","Details","NotFound","getStateFromPath","defaultState","unshift","initialArticleState","isLoading","total","articles","articleReducer","action","type","payload","error","tagReducer","tags","initialTagsState","userReducer","user","localStorage","setItem","token","initialUserState","email","phone","preferredTags","bookmarkedNews","getItem","axiosMockInstance","axios","create","axiosMockAdapterInstance","AxiosMockAdapter","delayResponse","client","title","value","omitEmpty","Object","keys","reduce","object","key","undefined","isUndefiendOrNull","sourceTags","filter","contentTags","sentimentTags","Factory","makeFactory","articleId","faker","datatype","uuid","text","random","words","number","charAt","toUpperCase","slice","toLowerCase","thumbnail","seqNum","sourceTag","arrayElement","sentimentTag","contentTag","arrayElements","min","max","date","past","toISOString","url","isVideo","boolean","buildList","onGet","reply","request","params","searchText","articleIds","offset","limit","whitelist","map","a","filtered","article","tag","join","includes","toLocaleLowerCase","sort","b","Date","getTime","length","splice","firstName","lastName","internet","phoneNumber","build","fetchProfile","async","get","response","data","console","login","post","updateProfile","put","onPost","Math","toString","onPut","JSON","parse","useFetchProfile","dispatch","Error","UserContext","React","createContext","setPreferredTags","setBookmarks","UserProvider","props","useReducer","useLogin","useSetPreferredTags","useSetBookmarks","useEffect","Provider","children","UserConsumer","Consumer","fetchTags","useFetchTags","ContentTagsContext","ContentTagsProvider","ContentTagsConsumer","SourceTagsContext","SourceTagsProvider","SourceTagsConsumer","SentimentTagsContext","SentimentTagsProvider","fetchArticles","initialState","refresh","setCount","ArticlesContext","ArticlesProvider","useState","setOffset","useFetchArticles","count","ArticlesConsumer","FiltersContext","FiltersProvider","FiltersConsumer","LoginScreen","passwordInputRef","createRef","activationCode","formState","setFormState","View","style","styles","mainBody","ScrollView","keyboardShouldPersistTaps","contentContainerStyle","flex","justifyContent","alignContent","KeyboardAvoidingView","enabled","sectionStyle","TextInput","inputStyle","onChangeText","placeholder","placeholderTextColor","autoCapitalize","keyboardType","returnKeyType","onSubmitEditing","current","focus","underlineColorAndroid","blurOnSubmit","ref","Keyboard","dismiss","secureTextEntry","Text","errorTextStyle","numberOfLines","TouchableOpacity","buttonStyle","activeOpacity","onPress","buttonTextStyle","StyleSheet","flexDirection","height","marginTop","marginLeft","marginRight","margin","backgroundColor","borderWidth","color","borderColor","alignItems","borderRadius","marginBottom","paddingVertical","fontSize","paddingLeft","paddingRight","outlineColor","Colors","registerTextStyle","textAlign","fontWeight","alignSelf","padding","width","position","pressable","TopTabNavigationBar","descriptors","navigation","scrollView","useRef","widthRefFirst","widthRefLast","navPosition","setNavPosition","setInFocusWidth","isFocused","setIsFocused","scrollPosition","scrollTo","x","parent","childNodes","clientWidth","SafeAreaView","horizontal","showsHorizontalScrollIndicator","decelerationRate","onScroll","event","nativeEvent","contentOffset","scrollEventThrottle","removeClippedSubviews","options","label","tabBarLabel","Pressable","accessibilityRole","accessibilityState","selected","accessibilityLabel","tabBarAccessibilityLabel","testID","tabBarTestID","navigationEvent","emit","target","canPreventDefault","getBoundingClientRect","screenWidth","window","screen","defaultPrevented","navigate","merge","fontFamily","PreferredTagsContext","PreferredTagsProvider","PreferredTagsConsumer","TopTab","createMaterialTopTabNavigator","TopTabNavigator","Navigator","tabBar","screenOptions","tabBarActiveTintColor","tabBarScrollEnabled","tabBarStyle","Screen","initialParams","RefreshControl","refreshing","tintColor","colors","progressViewOffset","size","titleColor","onRefresh","onRefreshRef","enabledRef","containerRef","pullPosReachedState","pullPosReachedAnimated","Animated","Value","pullDownSwipeMargin","timing","toValue","duration","useNativeDriver","start","setValue","onPanResponderFinish","useCallback","panResponder","PanResponder","onStartShouldSetPanResponder","onStartShouldSetPanResponderCapture","onMoveShouldSetPanResponder","containerDOM","findNodeHandle","scrollTop","onMoveShouldSetPanResponderCapture","onPanResponderMove","_","gestureState","adjustedDy","dy","newValue","onPanResponderTerminationRequest","onPanResponderRelease","onPanResponderTerminate","refreshIndicatorColor","useMemo","pullDownIconStyle","transform","rotate","interpolate","inputRange","outputRange","containerStyle","overflowY","overflow","paddingTop","indicatorTransformStyle","translateY","AnimatedContentContainer","WrappedComponent","displayName","WithAnimated","this","Component","createAnimatedComponent","withAnimated","childProps","newContentContainerStyle","newChildren","cloneElement","ActivityIndicator","marginVertical","Image","source","uri","panHandlers","cardContainer","imageContainer","minHeight","image","borderTopLeftRadius","borderTopRightRadius","cardInfoWrapper","titleFavoriteContainer","tileTitle","favoriteIcon","iconWrapper","sourceSentimentContainer","maxHeight","sentiment","marginEnd","sentimentColors","good","bad","neutral","Tile","indexOf","isBookmarked","flatList","empty","ListComponent","FlatList","keyExtractor","onEndReached","onEndReachedThreshold","refreshControl","renderItem","item","externalPath","opacity","pressed","Dimensions","ListEmptyComponent","safeAreaView","SearchScreen","obj","wait","setState","setDebouncedState","_val","debounce","_prop","useDebounce","setSearchText","FavoritesScreen","setArticleIds","useContext","useIsFocused","bottomNavigationBar","bottom","icon","borderBottomWidth","iconWrap","marginHorizontal","checkWithRoottSearchFavorites","BottomNavigationBar","borderBottomColor","dropdown","dropdownContainer","borderBottomStartRadius","borderBottomEndRadius","dropdownContainerTextWrap","dropdownContainerText","unselected","renderRightIcon","DropdownList","setSelected","setParams","isSelected","onChange","labelField","valueField","showsVerticalScrollIndicator","placeholderStyle","selectedTextStyle","activeColor","NavbarIconButton","icons","i","direction","ListScreen","titles","BottomTab","createBottomTabNavigator","navbarIcons","SETTINGS","HELP","BACK","screenOptionsHeader","screenOptionsHeaderTitle","headerSide","minWidth","RootNavigator","header","unmountOnBlur","component","containerView","headerView","headerText","view","viewSplit","info","SettingsScreen","version","HelpScreen","container","DetailsScreen","src","otherProps","lightColor","darkColor","NotFoundScreen","replace","link","linkText","switch","CategoriesScreen","content","contentItem","onValueChange","backgroundActive","backgroundInactive","activeText","inActiveText","circleSize","barHeight","circleActiveColor","circleInActiveColor","circleBorderWidth","switchWidthMultiplier","switchLeftPx","switchRightPx","Stack","createNativeStackNavigator","AuthNavigation","NavigationContainer","LinkingConfiguration","theme","DefaultTheme","headerBackButtonMenuEnabled","headerStyle","headerTintColor","headerShown","headerTitle","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","onUpdate","onSuccess","catch","InstallPrompt","installDisabled","hasprompt","userInstalled","centeredView","modalView","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","button","textStyle","head","imagePlaceholder","headText","subtitle","body","borderTopWidth","borderTopColor","sectionTitle","addEventListener","preventDefault","deferredprompt","evt","prompt","userChoice","outcome","setTimeout","removeItem","reload","shouldShowBrowserPrompt","Modal","animationType","transparent","visible","resizeMode","manifest","short_description","description","install","disabled","userAgent","isStandalone","whereIsShare","isChrome","isExplorer","isExplorer_11","isFirefox","isSafari","isOpera","isEdgeDesktop","isEdgeiOS","isEdgeAndroid","isIOS","isMobile","uaString","test","checkStandalone","hasOwnProperty","matchMedia","matches","SuccessCard","card","Title","successIcon","Divider","FailureCard","failureIcon","list","listItem","WaitCard","warningIcon","SafariHowToCard","Browser","InstallScreen","isInstalled","setIsInstalled","shouldShowIOSSafariHow2","shouldShowError","fullView","display","App","isLoadingComplete","setLoadingComplete","SplashScreen","Font","FontAwesome","font","require","warn","useCachedResources","listener","media","removeEventListener","useFonts","Roboto_300Light","Roboto_400Regular","Roboto_500Medium","fontsLoaded","StatusBar","URL","process","href","origin","fetch","headers","contentType","status","ready","unregister","checkValidServiceWorker","module","exports"],"mappings":"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","file":"static/js/app.b72d08e6.chunk.js","sourcesContent":["/**\r\n * Learn more about deep linking with React Navigation\r\n * https://reactnavigation.org/docs/deep-linking\r\n * https://reactnavigation.org/docs/configuring-links\r\n */\r\n\r\nimport { LinkingOptions, getStateFromPath } from '@react-navigation/native'\r\nimport * as Linking from 'expo-linking'\r\n\r\nimport { RootStackParamList } from '../types'\r\n\r\ninterface IRoute {\r\n  name?: string\r\n  state?: {\r\n    index?: number\r\n    routes: Array<IRoute>\r\n  }\r\n}\r\nconst hasNestedRoute = (route: IRoute, routeName: string): boolean => {\r\n  if (route.name === routeName) return true\r\n  if (!route.state) return false\r\n  const { routes, index = 0 } = route.state\r\n  return hasNestedRoute(routes[index], routeName)\r\n}\r\n\r\nconst linking: LinkingOptions<RootStackParamList> = {\r\n  prefixes: [Linking.makeUrl('/')],\r\n  config: {\r\n    screens: {\r\n      Home: {\r\n        path: 'v1',\r\n        initialRouteName: 'Root',\r\n        screens: {\r\n          Root: {\r\n            initialRouteName: 'ArticleList',\r\n            screens: {\r\n              ArticleList: 'articles',\r\n            },\r\n          },\r\n          Search: {\r\n            initialRouteName: 'ArticleList',\r\n            screens: {\r\n              ArticleList: 'search',\r\n            },\r\n          },\r\n          Favorites: 'favorites',\r\n        },\r\n      },\r\n      Login: 'login',\r\n      Settings: 'settings',\r\n      Categories: 'categories',\r\n      Help: 'help',\r\n      Details: 'details',\r\n      NotFound: '*',\r\n    },\r\n  },\r\n  getStateFromPath(path, config) {\r\n    const defaultState = getStateFromPath(path, config)\r\n    const [route] = defaultState?.routes || []\r\n    if (route?.name === 'Categories') {\r\n      defaultState?.routes.unshift({ name: 'Settings' })\r\n      defaultState?.routes.unshift({ name: 'Home' })\r\n    } else if (route?.name === 'Settings') {\r\n      defaultState?.routes.unshift({ name: 'Home' })\r\n    } else if (defaultState) {\r\n      if (hasNestedRoute(route, 'Search')) {\r\n        defaultState.routes[0] = {\r\n          name: 'Home',\r\n          state: { routes: [{ name: 'Search' }] },\r\n        }\r\n      } else if (hasNestedRoute(route, 'Favorites')) {\r\n        defaultState.routes[0] = {\r\n          name: 'Home',\r\n          state: { routes: [{ name: 'Search' }] },\r\n        }\r\n      } else {\r\n        defaultState.routes[0] = { name: 'Home' }\r\n      }\r\n    }\r\n    return defaultState\r\n  },\r\n}\r\n\r\nexport default linking\r\n","const tintColorLight = '#2f95dc';\r\nconst tintColorDark = '#fff';\r\n\r\nexport default {\r\n  oxfordBlue: \"#14213D\",\r\n  orangeWeb: \"#FCA311\",\r\n  platinum: \"#E5E5E5\",\r\n  white: \"#FFFFFF\",\r\n  unselectedBlue: \"#7582A3\",\r\n};\r\n","import { IArticle } from '../../api/articles'\r\n\r\nexport interface IArticlesState {\r\n  isLoading: boolean\r\n  total: number\r\n  articles: Array<IArticle>\r\n  error?: Error\r\n}\r\n\r\nexport const initialArticleState: IArticlesState = {\r\n  isLoading: false,\r\n  total: 0,\r\n  articles: [],\r\n}\r\n","import { ArticleActions } from './articles.actions'\r\nimport { IArticlesState, initialArticleState } from './articles.state'\r\n\r\nexport const articleReducer = (\r\n  state: IArticlesState,\r\n  action: ArticleActions\r\n): IArticlesState => {\r\n  switch (action.type) {\r\n    case 'ARTICLES_LOAD_SUCCESS':\r\n      return {\r\n        ...state,\r\n        total: action.payload.total,\r\n        articles: [...state.articles, ...action.payload.articles],\r\n      }\r\n    case 'ARTICLES_LOAD_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n      }\r\n    case 'ARTICLES_SET_LOADING':\r\n      return { ...state, isLoading: action.payload }\r\n    case 'ARTICLES_RESET_STATE':\r\n      return { ...initialArticleState }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { TagsActions } from './tags.actions'\r\nimport { ITagsState } from './tags.state'\r\n\r\nexport const tagReducer = (\r\n  state: ITagsState,\r\n  action: TagsActions\r\n): ITagsState => {\r\n  switch (action.type) {\r\n    case 'TAGS_LOAD_SUCCESS':\r\n      return {\r\n        ...state,\r\n        tags: action.payload,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { ITag } from '../../api/tags'\r\n\r\nexport interface ITagsState {\r\n  tags: Array<ITag>\r\n}\r\n\r\nexport const initialTagsState: ITagsState = {\r\n  tags: [],\r\n}\r\n","import { tokenPath } from '../../constants/Config'\r\nimport { UserActions } from './user.actions'\r\nimport { IUserState } from './user.state'\r\n\r\nexport const userReducer = (\r\n  state: IUserState,\r\n  action: UserActions\r\n): IUserState => {\r\n  switch (action.type) {\r\n    case 'PROFILE_LOAD_SUCCESS':\r\n      return {\r\n        ...state,\r\n        user: action.payload,\r\n      }\r\n    case 'SET_TOKEN': {\r\n      localStorage.setItem(tokenPath, action.payload)\r\n      return {\r\n        ...state,\r\n        token: action.payload,\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","export const apiUrl = 'http://www.example.com/'\r\n\r\nexport const tokenPath = 'AUTH_TOKEN'\r\n\r\nexport const isProduction = process.env.NODE_ENV === 'production'\r\n","import { IUser } from '../../api/user'\r\nimport { tokenPath } from '../../constants/Config'\r\n\r\nexport interface IUserState {\r\n  user: IUser\r\n  token: string\r\n}\r\n\r\nexport const initialUserState: IUserState = {\r\n  user: {\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    preferredTags: [],\r\n    bookmarkedNews: [],\r\n  },\r\n  token: localStorage.getItem(tokenPath) || '',\r\n}\r\n","import axios, { AxiosRequestConfig } from 'axios'\r\nimport AxiosMockAdapter from 'axios-mock-adapter'\r\n\r\nconst axiosMockInstance = axios.create()\r\n\r\nconst axiosLiveInstance = axios.create()\r\n\r\nexport const axiosMockAdapterInstance = new AxiosMockAdapter(\r\n  axiosMockInstance,\r\n  { delayResponse: 0 }\r\n)\r\nexport const client = true ? axiosMockInstance : axiosLiveInstance\r\n","import { ITag } from './tags.types'\r\n\r\nexport const tags: Array<ITag> = [\r\n  {\r\n    title: 'J',\r\n    value: 'good',\r\n    type: 'sentiment',\r\n  },\r\n  {\r\n    title: 'Semleges',\r\n    value: 'neutral',\r\n    type: 'sentiment',\r\n  },\r\n  {\r\n    title: 'Rossz',\r\n    value: 'bad',\r\n    type: 'sentiment',\r\n  },\r\n  {\r\n    title: 'letmd',\r\n    value: 'health',\r\n    type: 'content',\r\n  },\r\n  {\r\n    title: 'Sport',\r\n    value: 'sport',\r\n    type: 'content',\r\n  },\r\n  {\r\n    title: 'Produktivits',\r\n    value: 'productivity',\r\n    type: 'content',\r\n  },\r\n  {\r\n    title: 'Pnzgy',\r\n    value: 'finance',\r\n    type: 'content',\r\n  },\r\n  {\r\n    title: 'Politika',\r\n    value: 'politics',\r\n    type: 'content',\r\n  },\r\n  {\r\n    title: 'Vicces',\r\n    value: 'funny',\r\n    type: 'content',\r\n  },\r\n  {\r\n    title: 'Daily mail',\r\n    value: 'daily_mail',\r\n    type: 'source',\r\n  },\r\n  {\r\n    title: 'Index',\r\n    value: 'index',\r\n    type: 'source',\r\n  },\r\n  {\r\n    title: 'Dariusforoux',\r\n    value: 'dariusforoux',\r\n    type: 'source',\r\n  },\r\n]\r\n","export function capitalize(text: string) {\r\n  return text.charAt(0).toUpperCase() + text.slice(1).toLowerCase()\r\n}\r\n\r\nexport function isUndefiendOrNull(value: any): boolean {\r\n  return value === undefined || value === null\r\n}\r\n\r\nexport function omitEmpty<T extends Record<any, any>>(value: T): Partial<T> {\r\n  return Object.keys(value).reduce((object, key) => {\r\n    if (isUndefiendOrNull(value[key])) return object\r\n    return { ...object, [key]: value[key] }\r\n  }, {})\r\n}\r\n\r\nexport * from './debounce'\r\n","import * as Factory from 'factory.ts'\r\nimport faker from 'faker'\r\nimport { IArticle } from './articles.types'\r\nimport { tags } from '../../api/tags/tags.db'\r\nimport { capitalize } from '../../utils'\r\n\r\nconst sourceTags = tags.filter(({ type }) => type === 'source')\r\nconst contentTags = tags.filter(({ type }) => type === 'content')\r\nconst sentimentTags = tags.filter(({ type }) => type === 'sentiment')\r\n\r\nexport const ARTICLE_NUMBER = 30\r\nexport const ARTICLE_PER_PAGE = 10\r\n\r\nexport const ArticleMock = Factory.Sync.makeFactory<IArticle>({\r\n  articleId: Factory.each(() => faker.datatype.uuid()),\r\n  title: Factory.each(() =>\r\n    capitalize(faker.random.words(1 + faker.datatype.number(10)))\r\n  ),\r\n  thumbnail: Factory.each(\r\n    (seqNum) => `https://picsum.photos/seed/${seqNum * 10}/200/300`\r\n  ),\r\n  sourceTag: Factory.each(() => faker.random.arrayElement(sourceTags)),\r\n  sentimentTag: Factory.each(() => faker.random.arrayElement(sentimentTags)),\r\n  contentTag: Factory.each(() =>\r\n    faker.random.arrayElements(\r\n      contentTags,\r\n      faker.datatype.number({ min: 1, max: 5 })\r\n    )\r\n  ),\r\n  date: Factory.each(() => faker.date.past().toISOString()),\r\n  // url: Factory.each(() => faker.random.words()),\r\n  // url: Factory.each(() => 'https://github.com/facebook/react-native'),\r\n  url: Factory.each(() => 'https://www.youtube.com/embed/tgbNymZ7vqY'),\r\n  isVideo: Factory.each(() => faker.datatype.boolean()),\r\n})\r\n\r\nexport const articles = ArticleMock.buildList(ARTICLE_NUMBER)\r\n","import { axiosMockAdapterInstance } from '../client'\r\nimport { articles } from './articles.db'\r\n\r\naxiosMockAdapterInstance.onGet(/\\/api\\/articles.*/).reply((request) => {\r\n  const { contentTag, sourceTag, searchText, articleIds, offset, limit } =\r\n    request.params\r\n  const whitelist = articleIds || articles.map((a) => a.articleId)\r\n\r\n  const filtered = articles\r\n    .filter((article) =>\r\n      article.contentTag\r\n        .map((tag) => tag?.value)\r\n        .join(' ')\r\n        .includes(contentTag || '')\r\n    )\r\n    .filter((a) => a.sourceTag.value.includes(sourceTag || ''))\r\n    .filter((a) =>\r\n      a.title\r\n        .toLocaleLowerCase()\r\n        .includes((searchText || '').toLocaleLowerCase())\r\n    )\r\n    .filter((a) => whitelist.includes(a.articleId))\r\n    .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())\r\n\r\n  return [\r\n    200,\r\n    {\r\n      total: filtered.length,\r\n      articles: [...filtered].splice(offset, limit),\r\n    },\r\n  ]\r\n})\r\n","import { axiosMockAdapterInstance } from '../client'\r\nimport { tags } from './tags.db'\r\n\r\naxiosMockAdapterInstance.onGet(/\\/api\\/tags.*/).reply((request) => {\r\n  const { type } = request.params\r\n\r\n  const filtered = tags.filter((tag) => tag.type === type)\r\n\r\n  return [\r\n    200,\r\n    {\r\n      total: filtered.length,\r\n      tags: [...filtered],\r\n    },\r\n  ]\r\n})\r\n","import * as Factory from 'factory.ts'\r\nimport faker from 'faker'\r\nimport { IUser } from './user.types'\r\nimport { tags } from '../tags/tags.db'\r\nimport { articles } from '../articles/articles.db'\r\n\r\nconst contentTags = tags.filter((tag) => tag.type === 'content')\r\n\r\nexport const UserMock = Factory.Sync.makeFactory<IUser>({\r\n  name: Factory.each(\r\n    () => `${faker.name.firstName()} ${faker.name.lastName()}`\r\n  ),\r\n  email: Factory.each(() => faker.internet.email()),\r\n  phone: Factory.each(() => faker.phone.phoneNumber()),\r\n  preferredTags: Factory.each(() =>\r\n    faker.random\r\n      .arrayElements(\r\n        contentTags,\r\n        faker.datatype.number({ min: 0, max: contentTags.length })\r\n      )\r\n      .map((tag) => tag.value)\r\n  ),\r\n  bookmarkedNews: Factory.each(() =>\r\n    faker.random\r\n      .arrayElements(\r\n        articles,\r\n        faker.datatype.number({ min: 0, max: articles.length })\r\n      )\r\n      .map((article) => article.articleId)\r\n  ),\r\n})\r\n\r\nexport const user = UserMock.build()\r\n","import { IUserQuery, ILoginMutation } from './user.types'\r\nimport { client } from '..'\r\nimport { omitEmpty } from '../../utils'\r\n\r\nexport async function fetchProfile() {\r\n  try {\r\n    const response = await client.get<IUserQuery>('/api/profile')\r\n    return response.data?.user\r\n  } catch (error) {\r\n    console.error(error)\r\n  }\r\n}\r\n\r\nexport interface ILoginParams {\r\n  email: string\r\n  activationCode: string\r\n}\r\n\r\nexport async function login(params: ILoginParams) {\r\n  try {\r\n    const response = await client.post<ILoginMutation>('/api/login', { params })\r\n    return response.data?.token\r\n  } catch (error) {\r\n    console.error(error)\r\n  }\r\n}\r\n\r\nexport interface IUpdateProfileParams {\r\n  preferredTags?: Array<string>\r\n  bookmarkedNews?: Array<string>\r\n}\r\n\r\nexport async function updateProfile(params: IUpdateProfileParams) {\r\n  try {\r\n    await client.put<ILoginMutation>('/api/profile', {\r\n      ...omitEmpty(params),\r\n    })\r\n  } catch (error) {\r\n    console.error(error)\r\n  }\r\n}\r\n","import { axiosMockAdapterInstance } from '../client'\r\nimport { user } from './user.db'\r\n\r\naxiosMockAdapterInstance.onGet(/\\/api\\/profile.*/).reply((request) => {\r\n  return [\r\n    200,\r\n    {\r\n      user,\r\n    },\r\n  ]\r\n})\r\n\r\naxiosMockAdapterInstance.onPost(/\\/api\\/login.*/).reply((request) => {\r\n  return [\r\n    200,\r\n    {\r\n      token: Math.random().toString(36).slice(-5),\r\n    },\r\n  ]\r\n})\r\n\r\naxiosMockAdapterInstance.onPut(/\\/api\\/profile.*/).reply((request) => {\r\n  const data = JSON.parse(request.data || '{}')\r\n  if (data.preferredTags) {\r\n    user.preferredTags = data.preferredTags\r\n  }\r\n  if (data.bookmarkedNews) {\r\n    user.bookmarkedNews = data.bookmarkedNews\r\n  }\r\n  return [200]\r\n})\r\n","import { Dispatch } from 'react'\r\nimport { UserActions } from '.'\r\nimport {\r\n  fetchProfile,\r\n  ILoginParams,\r\n  login,\r\n  updateProfile,\r\n} from '../../api/user/user.query'\r\n\r\nexport const useFetchProfile = (dispatch: Dispatch<UserActions>) => {\r\n  return async () => {\r\n    try {\r\n      const payload = await fetchProfile()\r\n      if (!payload) throw Error('No payload for fetch profile')\r\n      dispatch({ type: 'PROFILE_LOAD_SUCCESS', payload })\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  }\r\n}\r\n\r\nexport const useLogin = (dispatch: Dispatch<UserActions>) => {\r\n  return async (params: ILoginParams) => {\r\n    try {\r\n      const payload = await login(params)\r\n      if (!payload) throw Error('No payload for login')\r\n      dispatch({ type: 'SET_TOKEN', payload })\r\n      await useFetchProfile(dispatch)()\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  }\r\n}\r\n\r\nexport const useSetPreferredTags = (dispatch: Dispatch<UserActions>) => {\r\n  return async (preferredTags: Array<string>) => {\r\n    try {\r\n      await updateProfile({ preferredTags })\r\n      await useFetchProfile(dispatch)()\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  }\r\n}\r\n\r\nexport const useSetBookmarks = (dispatch: Dispatch<UserActions>) => {\r\n  return async (bookmarkedNews: Array<string>) => {\r\n    try {\r\n      await updateProfile({ bookmarkedNews })\r\n      await useFetchProfile(dispatch)()\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  }\r\n}\r\n","import React, { useEffect, useReducer } from 'react'\r\nimport { ILoginParams } from '../api/user/user.query'\r\nimport { initialUserState, IUserState, userReducer } from '../state'\r\nimport {\r\n  useFetchProfile,\r\n  useLogin,\r\n  useSetPreferredTags,\r\n  useSetBookmarks,\r\n} from '../state/user/user.creators'\r\n\r\nexport interface IUserContext extends IUserState {\r\n  login: (params: ILoginParams) => Promise<void>\r\n  setPreferredTags: (tags: Array<string>) => Promise<void>\r\n  setBookmarks: (ids: Array<string>) => Promise<void>\r\n}\r\n\r\nexport const UserContext = React.createContext<IUserContext>({\r\n  ...initialUserState,\r\n  login: async () => {},\r\n  setPreferredTags: async () => {},\r\n  setBookmarks: async () => {},\r\n})\r\n\r\nexport interface IUserProviderProps {\r\n  children?: JSX.Element\r\n}\r\n\r\nexport const UserProvider = (props: IUserProviderProps) => {\r\n  const [data, dispatch] = useReducer(userReducer, initialUserState)\r\n  const login = useLogin(dispatch)\r\n  const setPreferredTags = useSetPreferredTags(dispatch)\r\n  const setBookmarks = useSetBookmarks(dispatch)\r\n  const fetchProfile = useFetchProfile(dispatch)\r\n  useEffect(() => {\r\n    if (!data.token) return\r\n    fetchProfile()\r\n  }, [])\r\n\r\n  return (\r\n    <UserContext.Provider\r\n      value={{ ...data, login, setPreferredTags, setBookmarks }}\r\n    >\r\n      {props.children}\r\n    </UserContext.Provider>\r\n  )\r\n}\r\n\r\nexport const UserConsumer = UserContext.Consumer\r\n","import { omitEmpty } from '../../utils'\r\nimport { ITagsQuery } from './tags.types'\r\nimport { client } from '..'\r\n\r\nexport interface IFetchTagsParams {\r\n  type: 'sentiment' | 'content' | 'source'\r\n}\r\n\r\nexport async function fetchTags(params: IFetchTagsParams) {\r\n  const { type } = params\r\n  try {\r\n    const response = await client.get<ITagsQuery>('/api/tags', {\r\n      params: omitEmpty({ type }),\r\n    })\r\n    return response.data?.tags\r\n  } catch (error) {\r\n    console.error(error)\r\n  }\r\n}\r\n","import { Dispatch } from 'react'\r\nimport { TagsActions } from '.'\r\nimport { fetchTags, IFetchTagsParams } from '../../api/tags/tags.query'\r\n\r\nexport const useFetchTags = (dispatch: Dispatch<TagsActions>) => {\r\n  return async (params: IFetchTagsParams) => {\r\n    try {\r\n      const payload = await fetchTags(params)\r\n      if (!payload) throw Error('No payload for fetch tags')\r\n      dispatch({ type: 'TAGS_LOAD_SUCCESS', payload })\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  }\r\n}\r\n","import React, { useEffect, useReducer } from 'react'\r\nimport { initialTagsState, tagReducer } from '../state'\r\nimport { ITag } from '../api/tags'\r\nimport { useFetchTags } from '../state/tags/tags.creators'\r\n\r\nconst ContentTagsContext = React.createContext<Array<ITag>>([])\r\n\r\nexport interface IContentTagsProps {\r\n  children?: JSX.Element\r\n  token?: string\r\n}\r\n\r\nexport const ContentTagsProvider = (props: IContentTagsProps) => {\r\n  const { token } = props\r\n  const [data, dispatch] = useReducer(tagReducer, initialTagsState)\r\n  const fetchTags = useFetchTags(dispatch)\r\n  useEffect(() => {\r\n    if (!token) return\r\n    fetchTags({ type: 'content' })\r\n  }, [token])\r\n\r\n  return (\r\n    <ContentTagsContext.Provider value={data.tags}>\r\n      {props.children}\r\n    </ContentTagsContext.Provider>\r\n  )\r\n}\r\n\r\nexport const ContentTagsConsumer = ContentTagsContext.Consumer\r\n","import React, { useEffect, useReducer } from 'react'\r\nimport { initialTagsState, tagReducer } from '../state'\r\nimport { ITag } from '../api/tags'\r\nimport { useFetchTags } from '../state/tags/tags.creators'\r\n\r\nconst SourceTagsContext = React.createContext<Array<ITag>>([])\r\n\r\nexport interface ISourceTagsProps {\r\n  children?: JSX.Element\r\n  token?: string\r\n}\r\n\r\nexport const SourceTagsProvider = (props: ISourceTagsProps) => {\r\n  const { token } = props\r\n  const [data, dispatch] = useReducer(tagReducer, initialTagsState)\r\n  const fetchTags = useFetchTags(dispatch)\r\n  useEffect(() => {\r\n    if (!token) return\r\n    fetchTags({ type: 'source' })\r\n  }, [token])\r\n\r\n  return (\r\n    <SourceTagsContext.Provider value={data.tags}>\r\n      {props.children}\r\n    </SourceTagsContext.Provider>\r\n  )\r\n}\r\n\r\nexport const SourceTagsConsumer = SourceTagsContext.Consumer\r\n","import React, { useEffect, useReducer } from 'react'\r\nimport { initialTagsState, tagReducer } from '../state'\r\nimport { ITag } from '../api/tags'\r\nimport { useFetchTags } from '../state/tags/tags.creators'\r\n\r\nconst SentimentTagsContext = React.createContext<Array<ITag>>([])\r\n\r\nexport interface ISentimentTagsProps {\r\n  children?: JSX.Element\r\n  token?: string\r\n}\r\n\r\nexport const SentimentTagsProvider = (props: ISentimentTagsProps) => {\r\n  const { token } = props\r\n  const [data, dispatch] = useReducer(tagReducer, initialTagsState)\r\n  const fetchTags = useFetchTags(dispatch)\r\n  useEffect(() => {\r\n    if (!token) return\r\n    fetchTags({ type: 'sentiment' })\r\n  }, [token])\r\n\r\n  return (\r\n    <SentimentTagsContext.Provider value={data.tags}>\r\n      {props.children}\r\n    </SentimentTagsContext.Provider>\r\n  )\r\n}\r\n\r\nexport const SentimentTagsConsumer = SentimentTagsContext.Consumer\r\n","import { omitEmpty } from '../../utils'\r\nimport { IArticleQuery } from './articles.types'\r\nimport { client } from '..'\r\n\r\nexport interface IFetchArticlesParams {\r\n  offset: number\r\n  limit: number\r\n  contentTag?: string\r\n  sourceTag?: string\r\n  searchText?: string\r\n  articleIds?: Array<string>\r\n}\r\n\r\nexport async function fetchArticles(params: IFetchArticlesParams) {\r\n  const { offset, limit, contentTag, sourceTag, searchText, articleIds } =\r\n    params\r\n  try {\r\n    const response = await client.get<IArticleQuery>('/api/articles', {\r\n      params: omitEmpty({\r\n        offset,\r\n        limit,\r\n        contentTag,\r\n        sourceTag,\r\n        searchText,\r\n        articleIds,\r\n      }),\r\n    })\r\n    return response.data\r\n  } catch (error) {\r\n    console.error(error)\r\n  }\r\n}\r\n","import React, { FC, useEffect, useReducer, useState } from 'react'\r\nimport {\r\n  initialArticleState,\r\n  IArticlesState,\r\n  articleReducer,\r\n} from '../state/articles'\r\nimport { useFetchArticles } from '../state/articles/articles.creators'\r\n\r\ninterface ArticlesContextProps extends IArticlesState {\r\n  refresh: () => void\r\n  setCount: (count: number) => void\r\n}\r\nconst initialState = {\r\n  ...initialArticleState,\r\n  refresh: () => {},\r\n  setCount: () => {},\r\n}\r\n\r\nconst ArticlesContext = React.createContext<ArticlesContextProps>(initialState)\r\n\r\nexport interface IArticlesProviderProps {\r\n  contentTag?: string\r\n  sourceTag?: string\r\n  searchText?: string\r\n  articleIds?: Array<string>\r\n}\r\n\r\nexport const ArticlesProvider: FC<IArticlesProviderProps> = (props) => {\r\n  const limit = 10\r\n  const [offset, setOffset] = useState(0)\r\n  const { sourceTag, contentTag, searchText, articleIds } = props\r\n  const [data, dispatch] = useReducer(articleReducer, initialArticleState)\r\n  const fetchArticles = useFetchArticles(dispatch)\r\n  const refresh = () => {\r\n    setCount(0)\r\n    dispatch({ type: 'ARTICLES_RESET_STATE' })\r\n    fetchArticles({\r\n      offset: 0,\r\n      limit,\r\n      sourceTag,\r\n      contentTag,\r\n      searchText,\r\n      articleIds,\r\n    })\r\n  }\r\n\r\n  const setCount = (count: number) => {\r\n    setOffset(count)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (offset === 0) return\r\n    fetchArticles({\r\n      offset,\r\n      limit,\r\n      sourceTag,\r\n      contentTag,\r\n      searchText,\r\n      articleIds,\r\n    })\r\n  }, [offset, limit])\r\n\r\n  useEffect(refresh, [sourceTag, searchText, articleIds])\r\n\r\n  return (\r\n    <ArticlesContext.Provider value={{ ...data, refresh, setCount }}>\r\n      {props.children}\r\n    </ArticlesContext.Provider>\r\n  )\r\n}\r\n\r\nexport const ArticlesConsumer = ArticlesContext.Consumer\r\n","import { Dispatch } from 'react'\r\nimport { ArticleActions } from './articles.actions'\r\nimport {\r\n  fetchArticles,\r\n  IFetchArticlesParams,\r\n} from '../../api/articles/articles.query'\r\n\r\nexport const useFetchArticles = (dispatch: Dispatch<ArticleActions>) => {\r\n  return async (params: IFetchArticlesParams) => {\r\n    dispatch({ type: 'ARTICLES_SET_LOADING', payload: true })\r\n    try {\r\n      const payload = await fetchArticles(params)\r\n      if (!payload) throw Error('No payload for fetch articles')\r\n      dispatch({ type: 'ARTICLES_LOAD_SUCCESS', payload })\r\n    } catch (error) {\r\n      dispatch({ type: 'ARTICLES_LOAD_ERROR', error: error as Error })\r\n    }\r\n    dispatch({ type: 'ARTICLES_SET_LOADING', payload: false })\r\n  }\r\n}\r\n","import React, { FC } from 'react'\r\n\r\nconst FiltersContext = React.createContext<IFilters>({})\r\n\r\nexport interface IFilters {\r\n  sourceTag?: string\r\n  contentTag?: string\r\n}\r\n\r\nexport interface IFiltersProps extends IFilters {\r\n  children?: JSX.Element\r\n}\r\n\r\nexport const FiltersProvider: FC<IFiltersProps> = (props) => {\r\n  const { sourceTag, contentTag } = props\r\n  return (\r\n    <FiltersContext.Provider value={{ sourceTag, contentTag }}>\r\n      {props.children}\r\n    </FiltersContext.Provider>\r\n  )\r\n}\r\n\r\nexport const FiltersConsumer = FiltersContext.Consumer\r\n","import React, { createRef, useState } from 'react'\r\nimport {\r\n  Keyboard,\r\n  KeyboardAvoidingView,\r\n  ScrollView,\r\n  StyleSheet,\r\n  Text,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  View,\r\n} from 'react-native'\r\nimport Colors from '../constants/Colors'\r\nimport { UserConsumer } from '../context'\r\n\r\nexport default function LoginScreen() {\r\n  const passwordInputRef = createRef<TextInput>()\r\n  const [formState, setFormState] = useState({\r\n    email: '',\r\n    activationCode: '',\r\n    error: '',\r\n  })\r\n\r\n  return (\r\n    <UserConsumer>\r\n      {({ login }) => (\r\n        <View style={styles.mainBody}>\r\n          <ScrollView\r\n            keyboardShouldPersistTaps=\"handled\"\r\n            contentContainerStyle={{\r\n              flex: 1,\r\n              justifyContent: 'center',\r\n              alignContent: 'center',\r\n            }}\r\n          >\r\n            <View>\r\n              <KeyboardAvoidingView enabled>\r\n                <View style={styles.sectionStyle}>\r\n                  <TextInput\r\n                    style={styles.inputStyle}\r\n                    onChangeText={(email) =>\r\n                      setFormState({\r\n                        ...formState,\r\n                        email,\r\n                      })\r\n                    }\r\n                    placeholder=\"Email cm\"\r\n                    placeholderTextColor=\"#8b9cb5\"\r\n                    autoCapitalize=\"none\"\r\n                    keyboardType=\"email-address\"\r\n                    returnKeyType=\"next\"\r\n                    onSubmitEditing={() =>\r\n                      passwordInputRef.current &&\r\n                      passwordInputRef.current.focus()\r\n                    }\r\n                    underlineColorAndroid=\"#f000\"\r\n                    blurOnSubmit={false}\r\n                  />\r\n                </View>\r\n                <View style={styles.sectionStyle}>\r\n                  <TextInput\r\n                    style={styles.inputStyle}\r\n                    onChangeText={(activationCode) =>\r\n                      setFormState({\r\n                        ...formState,\r\n                        activationCode,\r\n                      })\r\n                    }\r\n                    placeholder=\"Aktivcis kd\"\r\n                    placeholderTextColor=\"#8b9cb5\"\r\n                    keyboardType=\"default\"\r\n                    ref={passwordInputRef}\r\n                    onSubmitEditing={Keyboard.dismiss}\r\n                    blurOnSubmit={false}\r\n                    secureTextEntry={false}\r\n                    underlineColorAndroid=\"#f000\"\r\n                    returnKeyType=\"next\"\r\n                  />\r\n                </View>\r\n                {!!formState.error && (\r\n                  <Text style={styles.errorTextStyle} numberOfLines={3}>\r\n                    {formState.error}\r\n                  </Text>\r\n                )}\r\n                <TouchableOpacity\r\n                  style={styles.buttonStyle}\r\n                  activeOpacity={0.5}\r\n                  onPress={() => {\r\n                    const { email, activationCode } = formState\r\n                    return login({ email, activationCode })\r\n                  }}\r\n                >\r\n                  <Text style={styles.buttonTextStyle}>Aktivls</Text>\r\n                </TouchableOpacity>\r\n              </KeyboardAvoidingView>\r\n            </View>\r\n          </ScrollView>\r\n        </View>\r\n      )}\r\n    </UserConsumer>\r\n  )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  mainBody: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignContent: 'center',\r\n  },\r\n  sectionStyle: {\r\n    flexDirection: 'row',\r\n    height: 40,\r\n    marginTop: 20,\r\n    marginLeft: 35,\r\n    marginRight: 35,\r\n    margin: 10,\r\n  },\r\n  buttonStyle: {\r\n    backgroundColor: '#7DE24E',\r\n    //backgroundColor: '#61dafb',\r\n    borderWidth: 0,\r\n    color: '#FFFFFF',\r\n    borderColor: '#7DE24E',\r\n    height: 40,\r\n    alignItems: 'center',\r\n    borderRadius: 30,\r\n    marginLeft: 35,\r\n    marginRight: 35,\r\n    marginTop: 20,\r\n    marginBottom: 25,\r\n  },\r\n  buttonTextStyle: {\r\n    color: '#FFFFFF',\r\n    paddingVertical: 10,\r\n    fontSize: 16,\r\n  },\r\n  inputStyle: {\r\n    flex: 1,\r\n    color: 'gray',\r\n    paddingLeft: 15,\r\n    paddingRight: 15,\r\n    borderWidth: 1,\r\n    borderRadius: 30,\r\n    borderColor: '#dadae8',\r\n    outlineColor: Colors.orangeWeb,\r\n  },\r\n  registerTextStyle: {\r\n    color: '#FFFFFF',\r\n    textAlign: 'center',\r\n    fontWeight: 'bold',\r\n    fontSize: 14,\r\n    alignSelf: 'center',\r\n    padding: 10,\r\n  },\r\n  errorTextStyle: {\r\n    color: 'red',\r\n    textAlign: 'center',\r\n    fontSize: 14,\r\n  },\r\n})\r\n","import React, { useEffect, useRef, useState, FunctionComponent } from 'react'\r\nimport {\r\n  Text,\r\n  StyleSheet,\r\n  Pressable,\r\n  ScrollView,\r\n  SafeAreaView,\r\n} from 'react-native'\r\nimport Colors from '../constants/Colors'\r\n\r\nexport interface ITopTabNavigationBarProps {\r\n  state: any\r\n  descriptors: any\r\n  navigation: any\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  text: {\r\n    width: 'max-content',\r\n    alignSelf: 'center',\r\n    position: 'relative',\r\n    fontSize: 15,\r\n  },\r\n  pressable: { justifyContent: 'center' },\r\n})\r\n\r\nexport const TopTabNavigationBar: FunctionComponent<ITopTabNavigationBarProps> =\r\n  (props) => {\r\n    const { state, descriptors, navigation } = props\r\n    const scrollView = useRef<ScrollView>(null)\r\n    const widthRefFirst = useRef<any>(null)\r\n    const widthRefLast = useRef<any>(null)\r\n    const [navPosition, setNavPosition] = useState(0)\r\n    const [inFocusWidth, setInFocusWidth] = useState(0)\r\n    const [isFocused, setIsFocused] = useState(0)\r\n    let scrollPosition = 0\r\n\r\n    useEffect(() => {\r\n      scrollView.current?.scrollTo({ x: navPosition })\r\n    }, [navPosition])\r\n\r\n    useEffect(() => {\r\n      if (scrollView.current && isFocused !== state.index) {\r\n        const parent = (scrollView.current as any).childNodes[0]\r\n        setNavPosition(\r\n          state.index > isFocused\r\n            ? navPosition +\r\n                (parent.children[state.index].clientWidth / 2 +\r\n                  parent.children[state.index - 1].clientWidth / 2 +\r\n                  20)\r\n            : navPosition -\r\n                (parent.children[state.index].clientWidth / 2 +\r\n                  parent.children[state.index + 1].clientWidth / 2 +\r\n                  20)\r\n        )\r\n        setIsFocused(state.index)\r\n      }\r\n    }, [state.index])\r\n\r\n    return (\r\n      <SafeAreaView style={{ height: 50, backgroundColor: Colors.white }}>\r\n        <ScrollView\r\n          ref={scrollView}\r\n          horizontal\r\n          showsHorizontalScrollIndicator={false}\r\n          decelerationRate={0}\r\n          onScroll={(event) => {\r\n            scrollPosition = event.nativeEvent.contentOffset.x\r\n          }}\r\n          scrollEventThrottle={0}\r\n          removeClippedSubviews\r\n        >\r\n          {state.routes.map(\r\n            (route: { key: string | number; name: any }, index: any) => {\r\n              const { options } = descriptors[route.key]\r\n              const label =\r\n                options.tabBarLabel !== undefined\r\n                  ? options.tabBarLabel\r\n                  : options.title !== undefined\r\n                  ? options.title\r\n                  : route.name\r\n\r\n              const isFocused = state.index === index\r\n\r\n              const onPress = (event: any) => {\r\n                const navigationEvent = navigation.emit({\r\n                  type: 'tabPress',\r\n                  target: route.key,\r\n                  canPreventDefault: true,\r\n                })\r\n                const { x, width } = event.target.getBoundingClientRect()\r\n                const screenWidth = window.screen.width\r\n                setNavPosition(\r\n                  scrollPosition - (screenWidth / 2 - (x + width / 2))\r\n                )\r\n                setIsFocused(index)\r\n                setInFocusWidth(width)\r\n\r\n                if (!isFocused && !navigationEvent.defaultPrevented) {\r\n                  navigation.navigate({ name: route.name, merge: true })\r\n                }\r\n              }\r\n\r\n              return (\r\n                <Pressable\r\n                  accessibilityRole=\"button\"\r\n                  accessibilityState={isFocused ? { selected: true } : {}}\r\n                  accessibilityLabel={options.tabBarAccessibilityLabel}\r\n                  testID={options.tabBarTestID}\r\n                  onPress={onPress}\r\n                  style={[\r\n                    styles.pressable,\r\n                    {\r\n                      marginLeft:\r\n                        index === 0\r\n                          ? window.screen.width / 2 -\r\n                            widthRefFirst.current?.clientWidth / 2\r\n                          : 10,\r\n                      marginRight:\r\n                        index === state.routes.length - 1\r\n                          ? window.screen.width / 2 -\r\n                            widthRefLast.current?.clientWidth / 2\r\n                          : 10,\r\n                    },\r\n                  ]}\r\n                  key={route.key}\r\n                >\r\n                  <Text\r\n                    ref={\r\n                      index === 0\r\n                        ? widthRefFirst\r\n                        : index === state.routes.length - 1\r\n                        ? widthRefLast\r\n                        : null\r\n                    }\r\n                    style={[\r\n                      styles.text,\r\n                      {\r\n                        color: isFocused\r\n                          ? Colors.oxfordBlue\r\n                          : Colors.unselectedBlue,\r\n                        fontFamily: isFocused\r\n                          ? 'Roboto_500Medium'\r\n                          : 'Roboto_300Light',\r\n                      },\r\n                    ]}\r\n                  >\r\n                    {label.toUpperCase()}\r\n                  </Text>\r\n                </Pressable>\r\n              )\r\n            }\r\n          )}\r\n        </ScrollView>\r\n      </SafeAreaView>\r\n    )\r\n  }\r\n","import React, { FC } from 'react'\r\nimport { ContentTagsConsumer, UserConsumer } from '.'\r\nimport { ITag } from '../api/tags'\r\n\r\nconst PreferredTagsContext = React.createContext<Array<ITag>>([])\r\n\r\nexport interface IPreferredTagsProps {\r\n  children?: JSX.Element\r\n}\r\n\r\nexport const PreferredTagsProvider: FC<IPreferredTagsProps> = (props) => {\r\n  return (\r\n    <UserConsumer>\r\n      {({ user }) => (\r\n        <ContentTagsConsumer>\r\n          {(tags) => (\r\n            <PreferredTagsContext.Provider\r\n              value={tags.filter((tag) =>\r\n                user.preferredTags.includes(tag.value)\r\n              )}\r\n            >\r\n              {props.children}\r\n            </PreferredTagsContext.Provider>\r\n          )}\r\n        </ContentTagsConsumer>\r\n      )}\r\n    </UserConsumer>\r\n  )\r\n}\r\n\r\nexport const PreferredTagsConsumer = PreferredTagsContext.Consumer\r\n","import React, { FunctionComponent } from 'react'\r\nimport { createMaterialTopTabNavigator } from '@react-navigation/material-top-tabs'\r\nimport Colors from '../constants/Colors'\r\nimport { ArticleTabParamList, ArticleTabParamProps } from '../types'\r\nimport { FiltersProvider, UserConsumer } from '../context'\r\nimport { TopTabNavigationBar } from '../components/TopTabNavigationBar'\r\nimport { PreferredTagsConsumer } from '../context/preferred-tags.context'\r\n\r\nconst TopTab = createMaterialTopTabNavigator<ArticleTabParamList>()\r\n\r\nexport const TopTabNavigator: FunctionComponent<\r\n  ArticleTabParamProps<'ArticleList'>\r\n> = ({ route, children }) => {\r\n  const { sourceTag } = route.params\r\n  return (\r\n    <FiltersProvider sourceTag={sourceTag}>\r\n      <PreferredTagsConsumer>\r\n        {(tags) => {\r\n          return (\r\n            <TopTab.Navigator\r\n              tabBar={(\r\n                props: JSX.IntrinsicAttributes & {\r\n                  state: any\r\n                  descriptors: any\r\n                  navigation: any\r\n                  position: any\r\n                }\r\n              ) => <TopTabNavigationBar {...props} />}\r\n              screenOptions={{\r\n                tabBarActiveTintColor: Colors.oxfordBlue,\r\n                tabBarScrollEnabled: true,\r\n                tabBarStyle: { height: 50 },\r\n              }}\r\n            >\r\n              <TopTab.Screen\r\n                name=\"ArticleList\"\r\n                initialParams={{ sourceTag } as any}\r\n                options={{\r\n                  title: 'Minden Tma',\r\n                }}\r\n              >\r\n                {() => (\r\n                  <FiltersProvider sourceTag={sourceTag}>\r\n                    {children as any}\r\n                  </FiltersProvider>\r\n                )}\r\n              </TopTab.Screen>\r\n              {tags.map((tag) => (\r\n                <TopTab.Screen\r\n                  key={tag.value}\r\n                  name={`${tag.value}List` as any}\r\n                  options={{\r\n                    title: tag.title,\r\n                  }}\r\n                >\r\n                  {() => (\r\n                    <FiltersProvider\r\n                      sourceTag={sourceTag}\r\n                      contentTag={tag.value}\r\n                    >\r\n                      {children as any}\r\n                    </FiltersProvider>\r\n                  )}\r\n                </TopTab.Screen>\r\n              ))}\r\n            </TopTab.Navigator>\r\n          )\r\n        }}\r\n      </PreferredTagsConsumer>\r\n    </FiltersProvider>\r\n  )\r\n}\r\n","import React, { useRef, useEffect, useCallback, useMemo, FC } from 'react'\r\nimport {\r\n  View,\r\n  Text,\r\n  PanResponder,\r\n  Animated,\r\n  ActivityIndicator,\r\n  findNodeHandle,\r\n} from 'react-native'\r\n\r\nconst arrowIcon =\r\n  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfgCQYHLCTylhV1AAAAjklEQVQ4y2P8z0AaYCJRPX4NsyNWM5Ok4R/n+/noWhjx+2F20n8HwcTQv0T7IXUe4wFUWwh6Gl0LEaGEqoWoYEXWQmQ8ILQwEh/TkBBjme3HIESkjn+Mv9/vJjlpkOwkom2AxTmRGhBJhCgNyCmKCA2oCZCgBvT0ykSacgIaZiaiKydoA7pykiKOSE+jAwADZUnJjMWwUQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNi0wOS0wNlQwNzo0NDozNiswMjowMAZN3oQAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTYtMDktMDZUMDc6NDQ6MzYrMDI6MDB3EGY4AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=='\r\n\r\nexport interface IRefreshControlProps {\r\n  colors?: Array<any>\r\n  enabled?: boolean\r\n  onRefresh?: CallableFunction\r\n  progressBackgroundColor?: any\r\n  progressViewOffset?: number\r\n  refreshing: boolean\r\n  size?: 'small' | 'large'\r\n  tintColor?: any\r\n  title?: string\r\n  titleColor?: any\r\n  style?: any\r\n  children?: any\r\n}\r\n\r\nexport const RefreshControl: FC<IRefreshControlProps> = ({\r\n  refreshing,\r\n  tintColor,\r\n  colors,\r\n  style,\r\n  progressViewOffset,\r\n  children,\r\n  size,\r\n  title,\r\n  titleColor,\r\n  onRefresh,\r\n  enabled,\r\n}) => {\r\n  const onRefreshRef = useRef(onRefresh)\r\n  useEffect(() => {\r\n    onRefreshRef.current = onRefresh\r\n  }, [onRefresh])\r\n  const enabledRef = useRef(enabled)\r\n  useEffect(() => {\r\n    enabledRef.current = enabled\r\n  }, [enabled])\r\n\r\n  const containerRef = useRef()\r\n  const pullPosReachedState = useRef(0)\r\n  const pullPosReachedAnimated = useRef(new Animated.Value(0))\r\n  const pullDownSwipeMargin = useRef(new Animated.Value(0))\r\n\r\n  useEffect(() => {\r\n    Animated.timing(pullDownSwipeMargin.current, {\r\n      toValue: refreshing ? 50 : 0,\r\n      duration: 350,\r\n      useNativeDriver: false,\r\n    }).start()\r\n    if (refreshing) {\r\n      pullPosReachedState.current = 0\r\n      pullPosReachedAnimated.current.setValue(0)\r\n    }\r\n  }, [refreshing])\r\n\r\n  const onPanResponderFinish = useCallback(() => {\r\n    if (pullPosReachedState.current && onRefreshRef.current) {\r\n      onRefreshRef.current()\r\n    }\r\n    if (!pullPosReachedState.current) {\r\n      Animated.timing(pullDownSwipeMargin.current, {\r\n        toValue: 0,\r\n        duration: 350,\r\n        useNativeDriver: false,\r\n      }).start()\r\n    }\r\n  }, [])\r\n\r\n  const panResponder = useRef(\r\n    PanResponder.create({\r\n      onStartShouldSetPanResponder: () => false,\r\n      onStartShouldSetPanResponderCapture: () => false,\r\n      onMoveShouldSetPanResponder: () => {\r\n        if (!containerRef.current) return false\r\n        const containerDOM = findNodeHandle(containerRef.current) as any\r\n        if (!containerDOM) return false\r\n        return containerDOM.children[0].scrollTop === 0\r\n      },\r\n      onMoveShouldSetPanResponderCapture: () => false,\r\n      onPanResponderMove: (_, gestureState) => {\r\n        if (enabledRef.current !== undefined && !enabledRef.current) return\r\n\r\n        const adjustedDy =\r\n          gestureState.dy <= 0\r\n            ? 0\r\n            : (gestureState.dy * 150) / (gestureState.dy + 120) // Diminishing returns function\r\n        pullDownSwipeMargin.current.setValue(adjustedDy)\r\n        const newValue = adjustedDy > 45 ? 1 : 0\r\n        if (newValue !== pullPosReachedState.current) {\r\n          pullPosReachedState.current = newValue\r\n          Animated.timing(pullPosReachedAnimated.current, {\r\n            toValue: newValue,\r\n            duration: 150,\r\n            useNativeDriver: false,\r\n          }).start()\r\n        }\r\n      },\r\n      onPanResponderTerminationRequest: () => true,\r\n      onPanResponderRelease: onPanResponderFinish,\r\n      onPanResponderTerminate: onPanResponderFinish,\r\n    })\r\n  )\r\n\r\n  const refreshIndicatorColor = useMemo(\r\n    () => (tintColor ? tintColor : colors && colors.length ? colors[0] : null),\r\n    [colors, tintColor]\r\n  )\r\n  const pullDownIconStyle = useMemo(\r\n    () => ({\r\n      width: 22,\r\n      height: 22,\r\n      marginBottom: 18,\r\n      transform: [\r\n        {\r\n          rotate: pullPosReachedAnimated.current.interpolate({\r\n            inputRange: [0, 1],\r\n            outputRange: ['90deg', '270deg'],\r\n          }),\r\n        },\r\n      ],\r\n    }),\r\n    []\r\n  )\r\n\r\n  const containerStyle = useMemo(\r\n    () => [\r\n      style,\r\n      {\r\n        overflowY: 'hidden',\r\n        overflow: 'hidden',\r\n        paddingTop: progressViewOffset,\r\n      },\r\n    ],\r\n    [progressViewOffset, style]\r\n  )\r\n  const indicatorTransformStyle = useMemo(\r\n    () => ({\r\n      alignSelf: 'center',\r\n      marginTop: -40,\r\n      height: 40,\r\n      transform: [{ translateY: pullDownSwipeMargin.current }],\r\n    }),\r\n    []\r\n  )\r\n\r\n  // This is messing with react-native-web's internal implementation\r\n  // Will probably break if anything changes on their end\r\n  const AnimatedContentContainer = useMemo(\r\n    () =>\r\n      withAnimated((childProps: any) => (\r\n        <children.props.children.type {...childProps} />\r\n      )),\r\n    []\r\n  )\r\n  const newContentContainerStyle = useMemo(\r\n    () => [\r\n      children.props.children.props.style,\r\n      { transform: [{ translateY: pullDownSwipeMargin.current }] },\r\n    ],\r\n    [children.props.children.props.style]\r\n  )\r\n  const newChildren = React.cloneElement(\r\n    children,\r\n    undefined,\r\n    <>\r\n      <Animated.View style={indicatorTransformStyle as any}>\r\n        {refreshing ? (\r\n          <>\r\n            <ActivityIndicator\r\n              color={refreshIndicatorColor || undefined}\r\n              size={size || undefined}\r\n              style={{ marginVertical: 10 }}\r\n            />\r\n            {title && (\r\n              <Text\r\n                style={{ color: titleColor, textAlign: 'center', marginTop: 5 }}\r\n              >\r\n                {title}\r\n              </Text>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <Animated.Image\r\n            source={{ uri: arrowIcon }}\r\n            style={pullDownIconStyle}\r\n          />\r\n        )}\r\n      </Animated.View>\r\n      <AnimatedContentContainer\r\n        {...children.props.children.props}\r\n        style={newContentContainerStyle}\r\n      />\r\n    </>\r\n  )\r\n\r\n  return (\r\n    <View\r\n      ref={containerRef as any}\r\n      style={containerStyle}\r\n      {...panResponder.current.panHandlers}\r\n    >\r\n      {newChildren}\r\n    </View>\r\n  )\r\n}\r\n\r\nfunction withAnimated(WrappedComponent: any) {\r\n  const displayName =\r\n    WrappedComponent.displayName || WrappedComponent.name || 'Component'\r\n\r\n  class WithAnimated extends React.Component {\r\n    static displayName = `WithAnimated(${displayName})`\r\n\r\n    render() {\r\n      return <WrappedComponent {...this.props} />\r\n    }\r\n  }\r\n\r\n  return Animated.createAnimatedComponent(WithAnimated)\r\n}\r\n","import * as React from 'react'\r\nimport { FunctionComponent } from 'react'\r\nimport { Text, View, StyleSheet, Pressable } from 'react-native'\r\nimport { Card } from 'react-native-elements'\r\n\r\nimport Colors from '../constants/Colors'\r\nimport Icon from 'react-native-vector-icons/MaterialIcons'\r\nimport { IArticle } from '../api/articles'\r\nimport { UserConsumer } from '../context'\r\n\r\nexport interface ITileProps {\r\n  article: IArticle\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  cardContainer: {\r\n    padding: 0,\r\n    borderRadius: 10,\r\n    margin: 13,\r\n  },\r\n  imageContainer: {\r\n    width: '100%',\r\n    minHeight: '25vh',\r\n  },\r\n  image: {\r\n    width: '100%',\r\n    height: '100%',\r\n    borderTopLeftRadius: 10,\r\n    borderTopRightRadius: 10,\r\n  },\r\n  cardInfoWrapper: {\r\n    margin: 8,\r\n  },\r\n  titleFavoriteContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  tileTitle: {\r\n    width: '85%',\r\n    fontFamily: 'Roboto_500Medium',\r\n    fontSize: 17,\r\n    color: Colors.oxfordBlue,\r\n  },\r\n  favoriteIcon: {\r\n    color: Colors.oxfordBlue,\r\n  },\r\n  iconWrapper: {\r\n    width: '15%',\r\n    alignItems: 'flex-end',\r\n  },\r\n  sourceSentimentContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    marginTop: 12,\r\n    maxHeight: 15,\r\n  },\r\n  source: {\r\n    color: Colors.oxfordBlue,\r\n    fontFamily: 'Roboto_300Light',\r\n    fontSize: 11,\r\n    width: '85%',\r\n    margin: 0,\r\n  },\r\n  sentiment: {\r\n    alignSelf: 'flex-end',\r\n    width: 10,\r\n    height: 10,\r\n    borderRadius: 200,\r\n    backgroundColor: Colors.oxfordBlue,\r\n    marginEnd: 7,\r\n    marginTop: 1,\r\n  },\r\n})\r\n\r\nconst sentimentColors: Record<string, string> = {\r\n  good: 'green',\r\n  bad: 'red',\r\n  neutral: Colors.orangeWeb,\r\n}\r\n\r\nexport const Tile: FunctionComponent<ITileProps> = (props) => {\r\n  const { article } = props\r\n  return (\r\n    <UserConsumer>\r\n      {({ user, setBookmarks }) => {\r\n        const index = user.bookmarkedNews.indexOf(article.articleId)\r\n        const isBookmarked = index > -1\r\n        return (\r\n          <Card containerStyle={styles.cardContainer}>\r\n            <Card.Image\r\n              style={styles.image}\r\n              containerStyle={styles.imageContainer}\r\n              source={{ uri: article.thumbnail }}\r\n            ></Card.Image>\r\n            <View style={styles.cardInfoWrapper}>\r\n              <View style={styles.titleFavoriteContainer}>\r\n                <Text style={styles.tileTitle} numberOfLines={3}>\r\n                  {article.title}\r\n                </Text>\r\n                <Pressable\r\n                  style={styles.iconWrapper}\r\n                  onPress={() => {\r\n                    if (index === -1) {\r\n                      setBookmarks([...user.bookmarkedNews, article.articleId])\r\n                    } else {\r\n                      const tags = [...user.bookmarkedNews]\r\n                      tags.splice(index, 1)\r\n                      setBookmarks(tags)\r\n                    }\r\n                  }}\r\n                >\r\n                  <Icon\r\n                    name={isBookmarked ? 'bookmark' : 'bookmark-border'}\r\n                    size={24}\r\n                    style={styles.favoriteIcon}\r\n                  />\r\n                </Pressable>\r\n              </View>\r\n              <View style={styles.sourceSentimentContainer}>\r\n                <Text style={styles.source} numberOfLines={1}>\r\n                  {article.sourceTag?.value} - {article.date}\r\n                </Text>\r\n                <View style={styles.iconWrapper}>\r\n                  <View\r\n                    style={[\r\n                      styles.sentiment,\r\n                      {\r\n                        backgroundColor:\r\n                          sentimentColors[article.sentimentTag.value] ||\r\n                          Colors.orangeWeb,\r\n                      },\r\n                    ]}\r\n                  ></View>\r\n                </View>\r\n              </View>\r\n            </View>\r\n          </Card>\r\n        )\r\n      }}\r\n    </UserConsumer>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Dimensions, FlatList, Pressable, StyleSheet, Text } from 'react-native'\r\nimport { RefreshControl } from '../components/RefreshControl'\r\n\r\nimport { Tile } from '../components/Tile'\r\nimport { ArticlesConsumer, ArticlesProvider } from '../context'\r\n\r\nconst styles = StyleSheet.create({\r\n  flatList: {\r\n    backgroundColor: '#FBFBF8',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  empty: { fontWeight: 'bold', marginVertical: 20, color: 'gray' },\r\n})\r\n\r\nexport interface IListComponentProps {\r\n  navigation: any\r\n  contentTag?: string\r\n  sourceTag?: string\r\n  searchText?: string\r\n  articleIds?: Array<string>\r\n}\r\n\r\nexport const ListComponent: React.FC<IListComponentProps> = ({\r\n  navigation,\r\n  contentTag,\r\n  sourceTag,\r\n  searchText,\r\n  articleIds,\r\n}) => {\r\n  return (\r\n    <ArticlesProvider\r\n      contentTag={contentTag}\r\n      sourceTag={sourceTag}\r\n      searchText={searchText}\r\n      articleIds={articleIds}\r\n    >\r\n      <ArticlesConsumer>\r\n        {({ articles, isLoading, total, refresh, setCount }) => {\r\n          return (\r\n            <FlatList\r\n              contentContainerStyle={styles.flatList}\r\n              data={articles}\r\n              keyExtractor={(article) => `${article.articleId}`}\r\n              onEndReached={() => {\r\n                if (!articles.length || total <= articles.length) return\r\n\r\n                setCount(articles.length)\r\n              }}\r\n              onEndReachedThreshold={0.5}\r\n              refreshControl={\r\n                <RefreshControl\r\n                  refreshing={isLoading}\r\n                  onRefresh={() => {\r\n                    refresh()\r\n                  }}\r\n                />\r\n              }\r\n              renderItem={({ item }) => (\r\n                <Pressable\r\n                  onPress={() => {\r\n                    navigation.navigate('Details', {\r\n                      externalPath: item.url,\r\n                    })\r\n                  }}\r\n                  style={({ pressed }) => ({\r\n                    opacity: pressed ? 0.5 : 1,\r\n                    flex: 1,\r\n                    width: Dimensions.get('screen').width,\r\n                  })}\r\n                >\r\n                  <Tile article={item} />\r\n                </Pressable>\r\n              )}\r\n              ListEmptyComponent={\r\n                <Text style={styles.empty}>\r\n                  Nincs a keressi feltteleknek megfelel cikk\r\n                </Text>\r\n              }\r\n            />\r\n          )\r\n        }}\r\n      </ArticlesConsumer>\r\n    </ArticlesProvider>\r\n  )\r\n}\r\n","import React, { FC } from 'react'\r\nimport { SafeAreaView, StyleSheet, TextInput, View } from 'react-native'\r\n\r\nimport { ArticleTabParamProps } from '../types'\r\nimport { FiltersConsumer } from '../context'\r\nimport { ListComponent } from '../components/ListComponent'\r\nimport { useDebounce } from '../utils'\r\nimport Colors from '../constants/Colors'\r\n\r\nconst styles = StyleSheet.create({\r\n  safeAreaView: {\r\n    flex: 1,\r\n    backgroundColor: '#FBFBF8',\r\n  },\r\n  sectionStyle: {\r\n    flexDirection: 'row',\r\n    height: 40,\r\n    margin: 10,\r\n  },\r\n  inputStyle: {\r\n    flex: 1,\r\n    color: 'gray',\r\n    paddingLeft: 15,\r\n    paddingRight: 15,\r\n    borderWidth: 1,\r\n    borderRadius: 30,\r\n    borderColor: '#dadae8',\r\n    outlineColor: Colors.orangeWeb,\r\n  },\r\n})\r\nexport const SearchScreen: FC<ArticleTabParamProps<'ArticleList'>> = ({\r\n  navigation,\r\n}) => {\r\n  const [searchText, setSearchText] = useDebounce('', 500)\r\n  return (\r\n    <SafeAreaView style={styles.safeAreaView}>\r\n      <View style={styles.sectionStyle}>\r\n        <TextInput\r\n          style={styles.inputStyle}\r\n          onChangeText={(searchText) => setSearchText(searchText)}\r\n          placeholder=\"Keress\"\r\n          placeholderTextColor=\"#8b9cb5\"\r\n          autoCapitalize=\"none\"\r\n          keyboardType=\"default\"\r\n          returnKeyType=\"next\"\r\n          underlineColorAndroid=\"#f000\"\r\n          blurOnSubmit={false}\r\n        />\r\n      </View>\r\n      <FiltersConsumer>\r\n        {({ sourceTag, contentTag }) => {\r\n          return (\r\n            <ListComponent\r\n              navigation={navigation}\r\n              sourceTag={sourceTag}\r\n              contentTag={contentTag}\r\n              searchText={searchText}\r\n            />\r\n          )\r\n        }}\r\n      </FiltersConsumer>\r\n    </SafeAreaView>\r\n  )\r\n}\r\n","import { useCallback, useState } from 'react'\r\nimport _ from 'lodash'\r\n\r\nexport const useDebounce = (obj: any = null, wait: number = 1000) => {\r\n  const [state, setState] = useState(obj)\r\n\r\n  const setDebouncedState = (_val: any) => {\r\n    debounce(_val)\r\n  }\r\n\r\n  const debounce = useCallback(\r\n    _.debounce((_prop: string) => {\r\n      setState(_prop)\r\n    }, wait),\r\n    []\r\n  )\r\n\r\n  return [state, setDebouncedState]\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { SafeAreaView, StyleSheet } from 'react-native'\r\n\r\nimport { ArticleTabParamProps } from '../types'\r\nimport { ListComponent } from '../components/ListComponent'\r\nimport { UserContext } from '../context'\r\nimport { useIsFocused } from '@react-navigation/native'\r\n\r\nconst styles = StyleSheet.create({\r\n  safeAreaView: {\r\n    flex: 1,\r\n    backgroundColor: '#FBFBF8',\r\n  },\r\n})\r\nexport const FavoritesScreen: React.FC<ArticleTabParamProps<'ArticleList'>> = ({\r\n  navigation,\r\n}) => {\r\n  const [articleIds, setArticleIds] = useState<Array<string>>([])\r\n  const { user } = useContext(UserContext)\r\n  const isFocused = useIsFocused()\r\n  useEffect(() => {\r\n    if (!isFocused) return\r\n    setArticleIds(user.bookmarkedNews)\r\n  }, [isFocused])\r\n  return (\r\n    <SafeAreaView style={styles.safeAreaView}>\r\n      <ListComponent navigation={navigation} articleIds={articleIds} />\r\n    </SafeAreaView>\r\n  )\r\n}\r\n","import React, { FunctionComponent } from 'react'\r\nimport { View, Text, StyleSheet, Pressable } from 'react-native'\r\nimport Icon from 'react-native-vector-icons/MaterialIcons'\r\nimport Colors from '../constants/Colors'\r\n\r\nexport interface IBottomNavigationBarProps {\r\n  state: any\r\n  descriptors: any\r\n  navigation: any\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  bottomNavigationBar: {\r\n    flexDirection: 'row',\r\n    marginBottom: 12,\r\n    padding: 5,\r\n    width: 150,\r\n    height: 50,\r\n    alignSelf: 'center',\r\n    backgroundColor: Colors.oxfordBlue + 95,\r\n    borderRadius: 200,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    position: 'absolute',\r\n    bottom: 0,\r\n  },\r\n  icon: {\r\n    padding: 1,\r\n    borderBottomWidth: 2,\r\n  },\r\n  iconWrap: {\r\n    marginHorizontal: 10,\r\n  },\r\n})\r\n\r\nconst checkWithRoottSearchFavorites = (item: string) =>\r\n  item === 'Root' || item === 'Search' || item === 'Favorites'\r\n\r\nexport const BottomNavigationBar: FunctionComponent<IBottomNavigationBarProps> =\r\n  (props) => {\r\n    const { state, descriptors, navigation } = props\r\n    return checkWithRoottSearchFavorites(state.routes[state.index].name) ? (\r\n      <View style={styles.bottomNavigationBar}>\r\n        {state.routes.map((route: any, index: any) => {\r\n          const { options } = descriptors[route.key]\r\n          const isFocused = state.index === index\r\n\r\n          const onPress = () => {\r\n            const event = navigation.emit({\r\n              type: 'tabPress',\r\n              target: route.key,\r\n              canPreventDefault: true,\r\n            })\r\n\r\n            if (!isFocused && !event.defaultPrevented) {\r\n              navigation.navigate({ name: route.name, merge: true })\r\n            }\r\n          }\r\n\r\n          return (\r\n            checkWithRoottSearchFavorites(route.name) && (\r\n              <Pressable\r\n                accessibilityRole=\"button\"\r\n                accessibilityState={isFocused ? { selected: true } : {}}\r\n                accessibilityLabel={options.tabBarAccessibilityLabel}\r\n                testID={options.tabBarTestID}\r\n                onPress={onPress}\r\n                style={styles.iconWrap}\r\n                key={route.key}\r\n              >\r\n                <View\r\n                  style={[\r\n                    styles.icon,\r\n                    {\r\n                      borderBottomColor: isFocused\r\n                        ? Colors.orangeWeb\r\n                        : '#ffffff00',\r\n                    },\r\n                  ]}\r\n                >\r\n                  <Icon\r\n                    name={\r\n                      route.name === 'Root'\r\n                        ? 'roofing'\r\n                        : route.name === 'Search'\r\n                        ? 'search'\r\n                        : 'bookmark-border'\r\n                    }\r\n                    size={24}\r\n                    color={Colors.orangeWeb}\r\n                  />\r\n                </View>\r\n              </Pressable>\r\n            )\r\n          )\r\n        })}\r\n      </View>\r\n    ) : (\r\n      <></>\r\n    )\r\n  }\r\n","import React, { FunctionComponent, useEffect, useState } from 'react'\r\nimport { MultiSelect, Dropdown } from 'react-native-element-dropdown'\r\nimport Icon from 'react-native-vector-icons/MaterialIcons'\r\nimport { View, Text, StyleSheet } from 'react-native'\r\nimport { BottomTabNavigationProp } from '@react-navigation/bottom-tabs'\r\n\r\nimport Colors from '../constants/Colors'\r\nimport { ITag } from '../api/tags/tags.types'\r\nimport { SourceTagsConsumer } from '../context'\r\n\r\nexport interface IDropdownListProps {\r\n  navigation: BottomTabNavigationProp<any, any>\r\n}\r\n\r\nconst ALL_SOURCES = 'Minden forrs'\r\nconst ROBOTO_400REGULAR = 'Roboto_400Regular'\r\nconst ROBOTO_300LIGHT = 'Roboto_300Light'\r\nconst MAX_HEIGHT = 300\r\n\r\nconst styles = StyleSheet.create({\r\n  dropdown: {\r\n    height: 24,\r\n    width: 170,\r\n    marginRight: 13,\r\n  },\r\n  placeholder: {\r\n    color: Colors.orangeWeb,\r\n    fontSize: 16,\r\n    marginLeft: 8,\r\n    marginRight: 8,\r\n    maxHeight: 19,\r\n    overflow: 'hidden',\r\n  },\r\n  dropdownContainer: {\r\n    alignSelf: 'flex-start',\r\n    width: 146,\r\n    borderColor: Colors.oxfordBlue,\r\n    borderBottomStartRadius: 10,\r\n    borderBottomEndRadius: 10,\r\n  },\r\n  dropdownContainerTextWrap: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    height: 25,\r\n    margin: 8,\r\n  },\r\n  dropdownContainerText: {\r\n    color: Colors.oxfordBlue,\r\n    fontSize: 14,\r\n  },\r\n  selected: {\r\n    fontFamily: ROBOTO_400REGULAR,\r\n    width: '90%',\r\n  },\r\n  unselected: {\r\n    fontFamily: ROBOTO_300LIGHT,\r\n  },\r\n})\r\n\r\nconst renderRightIcon = () => (\r\n  <Icon name={'keyboard-arrow-down'} size={24} color={Colors.orangeWeb} />\r\n)\r\n\r\nexport const DropdownList: FunctionComponent<IDropdownListProps> = ({\r\n  navigation,\r\n}) => {\r\n  const [selected, setSelected] = useState(null)\r\n\r\n  useEffect(() => {\r\n    navigation.setParams({ sourceTag: selected })\r\n  }, [selected])\r\n\r\n  const renderItem = (item: ITag) => {\r\n    const isSelected = selected === item.value\r\n    return (\r\n      <View style={styles.dropdownContainerTextWrap}>\r\n        <Text\r\n          numberOfLines={1}\r\n          style={[\r\n            styles.dropdownContainerText,\r\n            isSelected ? styles.selected : styles.unselected,\r\n          ]}\r\n        >\r\n          {item.title}\r\n        </Text>\r\n        {isSelected && <Icon name=\"check\" size={16} />}\r\n      </View>\r\n    )\r\n  }\r\n\r\n  const onChange = (item: any) => {\r\n    setSelected(selected === item.value ? null : item.value)\r\n  }\r\n\r\n  return (\r\n    <SourceTagsConsumer>\r\n      {(sourceTags) => (\r\n        <View>\r\n          <Dropdown\r\n            data={sourceTags || []}\r\n            placeholder={ALL_SOURCES}\r\n            labelField=\"title\"\r\n            valueField=\"value\"\r\n            value={selected}\r\n            onChange={onChange}\r\n            renderRightIcon={renderRightIcon}\r\n            renderItem={renderItem}\r\n            style={styles.dropdown}\r\n            maxHeight={MAX_HEIGHT}\r\n            showsVerticalScrollIndicator={false}\r\n            fontFamily={ROBOTO_400REGULAR}\r\n            placeholderStyle={styles.placeholder}\r\n            selectedTextStyle={styles.placeholder}\r\n            containerStyle={styles.dropdownContainer}\r\n            activeColor={Colors.unselectedBlue + 20}\r\n          />\r\n        </View>\r\n      )}\r\n    </SourceTagsConsumer>\r\n  )\r\n}\r\n","import React, { FunctionComponent } from 'react'\r\nimport { View, StyleSheet } from 'react-native'\r\nimport Colors from '../constants/Colors'\r\nimport Icon from 'react-native-vector-icons/MaterialIcons'\r\n\r\nexport interface INavbarIcon {\r\n  name: string\r\n  direction: string\r\n}\r\n\r\nexport interface INavbarIconButtonProps {\r\n  navigation: any\r\n  icons: INavbarIcon[]\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  icon: {\r\n    margin: 6,\r\n  },\r\n  iconWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginLeft: 7,\r\n  },\r\n})\r\n\r\nexport const NavbarIconButton: FunctionComponent<INavbarIconButtonProps> = (\r\n  props\r\n) => {\r\n  const { navigation, icons } = props\r\n  return (\r\n    <View style={styles.iconWrapper}>\r\n      {icons.map((icon, i) => (\r\n        <Icon\r\n          key={i}\r\n          name={icon.name}\r\n          size={24}\r\n          color={\r\n            icon.name === 'keyboard-arrow-right'\r\n              ? Colors.oxfordBlue\r\n              : Colors.orangeWeb\r\n          }\r\n          onPress={() => navigation.navigate(icon.direction)}\r\n          style={styles.icon}\r\n        />\r\n      ))}\r\n    </View>\r\n  )\r\n}\r\n","import * as React from 'react'\r\nimport { SafeAreaView, StyleSheet } from 'react-native'\r\n\r\nimport { ArticleTabParamProps } from '../types'\r\nimport { FiltersConsumer } from '../context'\r\nimport { ListComponent } from '../components/ListComponent'\r\n\r\nconst styles = StyleSheet.create({\r\n  safeAreaView: {\r\n    flex: 1,\r\n    backgroundColor: '#FBFBF8',\r\n  },\r\n})\r\nexport const ListScreen: React.FC<ArticleTabParamProps<'ArticleList'>> = ({\r\n  navigation,\r\n}) => {\r\n  return (\r\n    <SafeAreaView style={styles.safeAreaView}>\r\n      <FiltersConsumer>\r\n        {({ sourceTag, contentTag }) => {\r\n          return (\r\n            <ListComponent\r\n              navigation={navigation}\r\n              sourceTag={sourceTag}\r\n              contentTag={contentTag}\r\n            />\r\n          )\r\n        }}\r\n      </FiltersConsumer>\r\n    </SafeAreaView>\r\n  )\r\n}\r\n","import React, { createContext, FunctionComponent, useState } from 'react'\r\nimport { View, Text, StyleSheet, Pressable } from 'react-native'\r\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs'\r\n\r\nimport { TopTabNavigator } from './TopTabNavigator'\r\nimport { SearchScreen } from '../screens/SearchScreen'\r\nimport { FavoritesScreen } from '../screens/FavoritesScreen'\r\n\r\nimport { BottomNavigationBar } from '../components/BottomNavigationBar'\r\nimport { DropdownList } from '../components/DropdownList'\r\nimport { NavbarIconButton } from '../components/NavbarIconButton'\r\n\r\nimport { RootTabParamList } from '../types'\r\nimport Colors from '../constants/Colors'\r\nimport { ListScreen } from '../screens/ListScreen'\r\n\r\nconst titles: Record<string, string> = {\r\n  Root: '',\r\n  Favorites: 'Kedvencek',\r\n  Search: '',\r\n  Settings: 'Belltsok',\r\n  Help: 'Segtsg',\r\n  Details: 'Cikk',\r\n  NotFound: 'Oops!',\r\n}\r\n\r\nconst ROBOTO_500MEDIUM = 'Roboto_500Medium'\r\n\r\nexport interface IRootNavigatorProps {}\r\nconst BottomTab = createBottomTabNavigator<RootTabParamList>()\r\n\r\nconst navbarIcons = {\r\n  SETTINGS: {\r\n    name: 'settings',\r\n    direction: 'Settings',\r\n  },\r\n  HELP: {\r\n    name: 'help-outline',\r\n    direction: 'Help',\r\n  },\r\n  BACK: {\r\n    name: 'keyboard-arrow-left',\r\n    direction: 'Root',\r\n  },\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  screenOptionsHeader: {\r\n    height: 50,\r\n    backgroundColor: Colors.oxfordBlue,\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  screenOptionsHeaderTitle: {\r\n    color: Colors.orangeWeb,\r\n    fontFamily: ROBOTO_500MEDIUM,\r\n    fontSize: 18,\r\n  },\r\n  headerSide: {\r\n    minWidth: 80,\r\n  },\r\n})\r\n\r\nexport const RootNavigator: FunctionComponent<IRootNavigatorProps> = () => {\r\n  return (\r\n    <BottomTab.Navigator\r\n      tabBar={(props) => <BottomNavigationBar {...props} />}\r\n      screenOptions={{\r\n        header: ({ navigation, route, options }) => (\r\n          <View style={styles.screenOptionsHeader}>\r\n            <View style={styles.headerSide}>\r\n              {route.name === 'Root' ||\r\n              route.name === 'Favorites' ||\r\n              route.name === 'Search' ? (\r\n                <NavbarIconButton\r\n                  navigation={navigation}\r\n                  icons={[navbarIcons.SETTINGS, navbarIcons.HELP]}\r\n                />\r\n              ) : null}\r\n            </View>\r\n            <View>\r\n              <Text style={styles.screenOptionsHeaderTitle}>\r\n                {titles[route.name]}\r\n              </Text>\r\n            </View>\r\n            <View style={styles.headerSide}>\r\n              {(route.name === 'Root' || route.name === 'Search') && (\r\n                <DropdownList navigation={navigation} />\r\n              )}\r\n            </View>\r\n          </View>\r\n        ),\r\n      }}\r\n    >\r\n      <BottomTab.Screen\r\n        name=\"Root\"\r\n        initialParams={{}}\r\n        options={{ unmountOnBlur: true }}\r\n      >\r\n        {(props) => (\r\n          <TopTabNavigator\r\n            navigation={props.navigation}\r\n            route={props.route as any}\r\n          >\r\n            <ListScreen\r\n              navigation={props.navigation}\r\n              route={props.route as any}\r\n            />\r\n          </TopTabNavigator>\r\n        )}\r\n      </BottomTab.Screen>\r\n      <BottomTab.Screen name=\"Search\" initialParams={{}}>\r\n        {(props) => (\r\n          <TopTabNavigator\r\n            navigation={props.navigation}\r\n            route={props.route as any}\r\n          >\r\n            <SearchScreen\r\n              navigation={props.navigation}\r\n              route={props.route as any}\r\n            />\r\n          </TopTabNavigator>\r\n        )}\r\n      </BottomTab.Screen>\r\n      <BottomTab.Screen name=\"Favorites\" component={FavoritesScreen} />\r\n    </BottomTab.Navigator>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { View, Text, StyleSheet } from 'react-native'\r\nimport Colors from '../constants/Colors'\r\nimport { UserConsumer } from '../context'\r\nimport JSON from '../package.json'\r\nimport { NavbarIconButton } from '../components/NavbarIconButton'\r\n\r\nconst styles = StyleSheet.create({\r\n  containerView: {\r\n    backgroundColor: Colors.white,\r\n    height: window.screen.height - 50,\r\n  },\r\n  headerView: {\r\n    height: 40,\r\n    backgroundColor: Colors.platinum,\r\n    alignItems: 'flex-start',\r\n    justifyContent: 'center',\r\n  },\r\n  headerText: {\r\n    color: Colors.oxfordBlue,\r\n    fontFamily: 'Roboto_500Medium',\r\n    fontSize: 17,\r\n    marginHorizontal: 13,\r\n  },\r\n  view: {\r\n    height: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    flexDirection: 'row',\r\n  },\r\n  viewSplit: {\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: Colors.platinum,\r\n  },\r\n  text: {\r\n    color: Colors.oxfordBlue,\r\n    fontFamily: 'Roboto_400Regular',\r\n    fontSize: 15,\r\n    marginHorizontal: 13,\r\n  },\r\n  icon: {\r\n    marginHorizontal: 13,\r\n  },\r\n  info: {\r\n    marginHorizontal: 13,\r\n    fontSize: 14,\r\n    fontFamily: 'Roboto_300Light',\r\n    color: Colors.oxfordBlue,\r\n  },\r\n})\r\n\r\nexport default function SettingsScreen(props: any) {\r\n  const { navigation } = props\r\n  return (\r\n    <UserConsumer>\r\n      {({ user }) => {\r\n        return (\r\n          <View style={styles.containerView}>\r\n            <View style={styles.headerView}>\r\n              <Text style={styles.headerText}>Hrek</Text>\r\n            </View>\r\n            <View style={styles.view}>\r\n              <Text style={styles.text}>Kategrik</Text>\r\n              <NavbarIconButton\r\n                navigation={navigation}\r\n                icons={[\r\n                  {\r\n                    name: 'keyboard-arrow-right',\r\n                    direction: 'Categories',\r\n                  },\r\n                ]}\r\n              />\r\n            </View>\r\n            <View style={styles.headerView}>\r\n              <Text style={styles.headerText}>Rlunk</Text>\r\n            </View>\r\n            <View style={[styles.view, styles.viewSplit]}>\r\n              <Text style={styles.text}>Verzi</Text>\r\n              <Text style={styles.info}>{JSON.version}</Text>\r\n            </View>\r\n            <View style={styles.view}>\r\n              <Text style={styles.text}>E-mail</Text>\r\n              <Text style={styles.info}>{user?.email}</Text>\r\n            </View>\r\n          </View>\r\n        )\r\n      }}\r\n    </UserConsumer>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { View } from 'react-native'\r\nimport { Text } from 'react-native-elements'\r\n\r\nexport default function HelpScreen() {\r\n  return (\r\n    <View\r\n      style={{\r\n        flex: 1,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n      }}\r\n    >\r\n      <Text>I am a placeholder for the help screen</Text>\r\n    </View>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { StyleSheet, View } from 'react-native'\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n  },\r\n})\r\n\r\nexport default function DetailsScreen({ route }: { route: any }) {\r\n  const { externalPath } = route.params\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <iframe src={externalPath} style={{ flex: 1, height: '100%' }} />\r\n    </View>\r\n  )\r\n}\r\n","/**\r\n * Learn more about Light and Dark modes:\r\n * https://docs.expo.io/guides/color-schemes/\r\n */\r\n\r\nimport * as React from 'react';\r\nimport { Text as DefaultText, View as DefaultView } from 'react-native';\r\n\r\nimport Colors from '../constants/Colors';\r\n\r\ntype ThemeProps = {\r\n  lightColor?: string;\r\n  darkColor?: string;\r\n};\r\n\r\nexport type TextProps = ThemeProps & DefaultText['props'];\r\nexport type ViewProps = ThemeProps & DefaultView['props'];\r\n\r\nexport function Text(props: TextProps) {\r\n  const { style, lightColor, darkColor, ...otherProps } = props;\r\n  const color = Colors.oxfordBlue;\r\n\r\n  return <DefaultText style={[{ color }, style]} {...otherProps} />;\r\n}\r\n\r\nexport function View(props: ViewProps) {\r\n  const { style, lightColor, darkColor, ...otherProps } = props;\r\n  const backgroundColor = Colors.white;\r\n\r\n  return <DefaultView style={[{ backgroundColor }, style]} {...otherProps} />;\r\n}\r\n","import React from 'react'\r\nimport { StyleSheet, TouchableOpacity } from 'react-native'\r\nimport { Text, View } from '../components/Themed'\r\n\r\nimport { RootStackScreenProps } from '../types'\r\n\r\nexport default function NotFoundScreen({\r\n  navigation,\r\n}: RootStackScreenProps<'NotFound'>) {\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text style={styles.title}>This screen doesn't exist.</Text>\r\n      <TouchableOpacity\r\n        onPress={() => navigation.replace('Home' as any)}\r\n        style={styles.link}\r\n      >\r\n        <Text style={styles.linkText}>Go to home screen!</Text>\r\n      </TouchableOpacity>\r\n    </View>\r\n  )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    padding: 20,\r\n  },\r\n  title: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n  },\r\n  link: {\r\n    marginTop: 15,\r\n    paddingVertical: 15,\r\n  },\r\n  linkText: {\r\n    fontSize: 14,\r\n    color: '#2e78b7',\r\n  },\r\n})\r\n","import React from 'react'\r\nimport { View, Text, StyleSheet } from 'react-native'\r\nimport Colors from '../constants/Colors'\r\nimport { ContentTagsConsumer, UserConsumer } from '../context'\r\nimport { Switch } from 'react-native-switch'\r\nimport { PreferredTagsConsumer } from '../context/preferred-tags.context'\r\n\r\nconst styles = StyleSheet.create({\r\n  containerView: {\r\n    backgroundColor: Colors.white,\r\n    height: window.screen.height - 50,\r\n  },\r\n  view: {\r\n    height: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    flexDirection: 'row',\r\n  },\r\n  text: {\r\n    color: Colors.oxfordBlue,\r\n    fontFamily: 'Roboto_400Regular',\r\n    fontSize: 15,\r\n    marginHorizontal: 13,\r\n  },\r\n  switch: {\r\n    marginHorizontal: 13,\r\n  },\r\n})\r\n\r\nexport default function CategoriesScreen() {\r\n  return (\r\n    <UserConsumer>\r\n      {({ user, setPreferredTags }) => (\r\n        <PreferredTagsConsumer>\r\n          {(tags) => {\r\n            return (\r\n              <ContentTagsConsumer>\r\n                {(content) => {\r\n                  return (\r\n                    <View style={styles.containerView}>\r\n                      {content?.map((contentItem) => {\r\n                        const value = tags\r\n                          .map((tag) => tag.value)\r\n                          .includes(contentItem.value)\r\n                        return (\r\n                          <View style={styles.view} key={contentItem.value}>\r\n                            <Text style={styles.text}>{contentItem.title}</Text>\r\n                            <Switch\r\n                              onValueChange={() => {\r\n                                const index = user.preferredTags.indexOf(\r\n                                  contentItem.value\r\n                                )\r\n                                if (index === -1) {\r\n                                  setPreferredTags([\r\n                                    ...user.preferredTags,\r\n                                    contentItem.value,\r\n                                  ])\r\n                                } else {\r\n                                  const tags = [...user.preferredTags]\r\n                                  tags.splice(index, 1)\r\n                                  setPreferredTags(tags)\r\n                                }\r\n                              }}\r\n                              value={value}\r\n                              backgroundActive={Colors.orangeWeb + 30}\r\n                              backgroundInactive={Colors.oxfordBlue + 30}\r\n                              activeText=\"\"\r\n                              inActiveText=\"\"\r\n                              containerStyle={{ marginHorizontal: 13 }}\r\n                              circleSize={16}\r\n                              barHeight={10}\r\n                              circleActiveColor={Colors.orangeWeb}\r\n                              circleInActiveColor={Colors.oxfordBlue}\r\n                              circleBorderWidth={0}\r\n                              switchWidthMultiplier={1.5}\r\n                              switchLeftPx={8}\r\n                              switchRightPx={8}\r\n                            />\r\n                          </View>\r\n                        )\r\n                      })}\r\n                    </View>\r\n                  )\r\n                }}\r\n              </ContentTagsConsumer>\r\n            )\r\n          }}\r\n        </PreferredTagsConsumer>\r\n      )}\r\n    </UserConsumer>\r\n  )\r\n}\r\n","// Example of Splash, Login and Sign Up in React Native\r\n// https://aboutreact.com/react-native-login-and-signup/\r\nimport 'react-native-gesture-handler'\r\n\r\n// Import React and Component\r\nimport React, { FunctionComponent, useContext } from 'react'\r\n\r\n// Import Navigators from React Navigation\r\nimport { DefaultTheme, NavigationContainer } from '@react-navigation/native'\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack'\r\nimport { StyleSheet } from 'react-native'\r\n\r\nimport LinkingConfiguration from './LinkingConfiguration'\r\nimport Colors from '../constants/Colors'\r\nimport LoginScreen from '../screens/LoginScreen'\r\nimport { RootNavigator } from './RootNavigator'\r\nimport SettingsScreen from '../screens/SettingsScreen'\r\nimport HelpScreen from '../screens/HelpScreen'\r\nimport DetailsScreen from '../screens/DetailsScreen'\r\nimport NotFoundScreen from '../screens/NotFoundScreen'\r\nimport CategoriesScreen from '../screens/CategoriesScreen'\r\nimport {\r\n  ContentTagsProvider,\r\n  SentimentTagsProvider,\r\n  SourceTagsProvider,\r\n  UserConsumer,\r\n} from '../context'\r\nimport { PreferredTagsProvider } from '../context/preferred-tags.context'\r\n\r\nconst Stack = createNativeStackNavigator()\r\n\r\nexport interface IAuthNavigationProps {}\r\n\r\nconst styles = StyleSheet.create({\r\n  screenOptionsHeader: {\r\n    height: 50,\r\n    backgroundColor: Colors.oxfordBlue,\r\n  },\r\n})\r\n\r\nexport const AuthNavigation: FunctionComponent<IAuthNavigationProps> = ({}) => {\r\n  return (\r\n    <UserConsumer>\r\n      {({ token }) => (\r\n        <SourceTagsProvider token={token}>\r\n          <SentimentTagsProvider token={token}>\r\n            <ContentTagsProvider token={token}>\r\n              <PreferredTagsProvider>\r\n                <NavigationContainer\r\n                  linking={LinkingConfiguration}\r\n                  theme={DefaultTheme}\r\n                >\r\n                  <Stack.Navigator\r\n                    screenOptions={{\r\n                      headerBackButtonMenuEnabled: true,\r\n                      headerStyle: styles.screenOptionsHeader,\r\n                      headerTintColor: Colors.orangeWeb,\r\n                    }}\r\n                  >\r\n                    {!token ? (\r\n                      <Stack.Screen\r\n                        name=\"Login\"\r\n                        component={LoginScreen}\r\n                        options={{ headerShown: false }}\r\n                      />\r\n                    ) : (\r\n                      <>\r\n                        <Stack.Screen\r\n                          name=\"Home\"\r\n                          component={RootNavigator}\r\n                          options={{ headerShown: false }}\r\n                        />\r\n                        <Stack.Screen\r\n                          name=\"Settings\"\r\n                          component={SettingsScreen}\r\n                          options={{ headerTitle: 'Belltsok' }}\r\n                        />\r\n                        <Stack.Screen\r\n                          name=\"Categories\"\r\n                          component={CategoriesScreen}\r\n                          options={{ headerTitle: 'Kategrik' }}\r\n                        />\r\n                        <Stack.Screen\r\n                          name=\"Help\"\r\n                          component={HelpScreen}\r\n                          options={{ headerTitle: 'Segtsg' }}\r\n                        />\r\n                        <Stack.Screen\r\n                          name=\"Details\"\r\n                          component={DetailsScreen}\r\n                          options={{ headerTitle: 'Rszletek' }}\r\n                        />\r\n                        <Stack.Screen\r\n                          name=\"NotFound\"\r\n                          options={{ headerShown: false }}\r\n                          component={NotFoundScreen}\r\n                        />\r\n                      </>\r\n                    )}\r\n                  </Stack.Navigator>\r\n                </NavigationContainer>\r\n              </PreferredTagsProvider>\r\n            </ContentTagsProvider>\r\n          </SentimentTagsProvider>\r\n        </SourceTagsProvider>\r\n      )}\r\n    </UserConsumer>\r\n  )\r\n}\r\n","import { AuthNavigation } from './AuthNavigation'\r\n\r\nexport default AuthNavigation\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React, { Component, ReactNode, useContext } from 'react'\r\nimport { Modal, StyleSheet, TouchableOpacity, View } from 'react-native'\r\nimport { Image, Text } from 'react-native-elements'\r\nimport { tokenPath } from '../constants/Config'\r\nimport manifest from '../web/manifest.json'\r\nimport Colors from '../constants/Colors'\r\n\r\nexport interface IInstallPromptState {\r\n  installDisabled: boolean\r\n  hasprompt: boolean\r\n  userInstalled: boolean\r\n}\r\n\r\nexport class InstallPrompt extends Component<{}, IInstallPromptState> {\r\n  public readonly state = {\r\n    installDisabled: false,\r\n    hasprompt: false,\r\n    userInstalled: false,\r\n  }\r\n\r\n  public deferredprompt?: any\r\n\r\n  public styles = StyleSheet.create({\r\n    centeredView: {\r\n      flex: 1,\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      backgroundColor: 'rgba(0,0,0,0.5)',\r\n    },\r\n    modalView: {\r\n      margin: 20,\r\n      backgroundColor: 'white',\r\n      borderRadius: 20,\r\n      padding: 10,\r\n      shadowColor: '#000',\r\n      shadowOffset: {\r\n        width: 0,\r\n        height: 2,\r\n      },\r\n      shadowOpacity: 0.25,\r\n      shadowRadius: 4,\r\n      elevation: 5,\r\n    },\r\n    button: {\r\n      backgroundColor: Colors.orangeWeb,\r\n      // backgroundColor: '#61dafb',\r\n      borderRadius: 20,\r\n      padding: 10,\r\n      elevation: 2,\r\n    },\r\n    textStyle: {\r\n      color: 'white',\r\n      fontWeight: 'bold',\r\n      textAlign: 'center',\r\n    },\r\n    head: {\r\n      marginTop: 0,\r\n      marginBottom: 24,\r\n      width: '100%',\r\n      flexDirection: 'row',\r\n      alignItems: 'center',\r\n    },\r\n    imagePlaceholder: { backgroundColor: 'transparent' },\r\n    imageContainer: {\r\n      backgroundColor: 'gray',\r\n      borderRadius: 10,\r\n    },\r\n    image: { width: 56, height: 56 },\r\n    headText: { marginLeft: 10, flex: 1 },\r\n    title: { fontWeight: 'bold', fontSize: 24 },\r\n    subtitle: { color: 'gray', fontSize: 16 },\r\n    body: {\r\n      marginBottom: 25,\r\n      paddingTop: 10,\r\n      borderTopWidth: 1,\r\n      borderTopColor: 'gray',\r\n    },\r\n    sectionTitle: { fontWeight: 'bold', fontSize: 16, marginBottom: 10 },\r\n  })\r\n\r\n  constructor(props: {}) {\r\n    super(props)\r\n\r\n    window.addEventListener('beforeinstallprompt', (event: Event) => {\r\n      event.preventDefault()\r\n      this.deferredprompt = event\r\n      console.log('RUNS PROMPT')\r\n      this.setState({ ...this.state, hasprompt: true })\r\n    })\r\n\r\n    window.addEventListener('appinstalled', (evt) => {\r\n      this.setState({ ...this.state, userInstalled: true })\r\n    })\r\n  }\r\n\r\n  public async install(): Promise<boolean> {\r\n    this.setState({ ...this.state, installDisabled: true })\r\n    if (this.deferredprompt) {\r\n      this.deferredprompt.prompt()\r\n\r\n      const choiceResult = await this.deferredprompt.userChoice\r\n\r\n      if (choiceResult.outcome === 'accepted') {\r\n        console.log('Your PWA has been installed')\r\n        setTimeout(() => {\r\n          localStorage.removeItem(tokenPath)\r\n          window.location.reload()\r\n        })\r\n        return true\r\n      } else {\r\n        console.log('User chose to not install your PWA')\r\n      }\r\n    }\r\n\r\n    this.setState({ ...this.state, installDisabled: false })\r\n    return false\r\n  }\r\n\r\n  public shouldShowBrowserPrompt(): boolean {\r\n    return this.state.hasprompt && !this.state.userInstalled\r\n  }\r\n\r\n  public render(): ReactNode {\r\n    console.log(\r\n      'VALUES NOW now:',\r\n      this.state.hasprompt,\r\n      this.state.userInstalled\r\n    )\r\n    if (!this.shouldShowBrowserPrompt()) return null\r\n\r\n    return (\r\n      <Modal animationType=\"fade\" transparent={true} visible={true}>\r\n        <View style={this.styles.centeredView}>\r\n          <View style={this.styles.modalView}>\r\n            <View style={this.styles.head}>\r\n              <Image\r\n                placeholderStyle={this.styles.imagePlaceholder}\r\n                containerStyle={this.styles.imageContainer}\r\n                style={this.styles.image}\r\n                resizeMode={'cover'}\r\n                source={{ uri: './logo512.png' }}\r\n              ></Image>\r\n              <View style={this.styles.headText}>\r\n                <Text style={this.styles.title}>{manifest.name}</Text>\r\n                <Text style={this.styles.subtitle}>\r\n                  {manifest.short_description}\r\n                </Text>\r\n              </View>\r\n            </View>\r\n            <View style={this.styles.body}>\r\n              <Text style={this.styles.sectionTitle}>Rszletek</Text>\r\n              <Text>{manifest.description}</Text>\r\n            </View>\r\n\r\n            <TouchableOpacity\r\n              style={this.styles.button}\r\n              activeOpacity={0.5}\r\n              onPress={() => this.install()}\r\n              disabled={this.state.installDisabled}\r\n            >\r\n              <Text style={this.styles.textStyle}>Telepts</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n","export class Browser {\r\n  public readonly userAgent = navigator.userAgent.toLowerCase()\r\n  public isStandalone = false\r\n  public whereIsShare: string = 'aljn'\r\n  public userInstalled = false\r\n\r\n  public isChrome = false\r\n  public isExplorer = false\r\n  public isExplorer_11 = false\r\n  public isFirefox = false\r\n  public isSafari = false\r\n  public isOpera = false\r\n  public isEdgeDesktop = false\r\n  public isEdgeiOS = false\r\n  public isEdgeAndroid = false\r\n  public isIOS = false\r\n  public isMobile = false\r\n\r\n  constructor() {\r\n    const uaString = this.userAgent\r\n\r\n    this.isChrome = /chrome/.test(uaString)\r\n    this.isExplorer = /msie/.test(uaString)\r\n    this.isExplorer_11 = /rv:11/.test(uaString)\r\n    this.isFirefox = /firefox/.test(uaString)\r\n    this.isSafari = /safari/.test(uaString)\r\n    this.isOpera = /opr/.test(uaString)\r\n    this.isEdgeDesktop = /edge/.test(uaString)\r\n    this.isEdgeiOS = /edgios/.test(uaString)\r\n    this.isEdgeAndroid = /edga/.test(uaString)\r\n\r\n    this.isIOS = /ipad|iphone|ipod/.test(uaString)\r\n    this.isMobile = /mobile/.test(uaString)\r\n\r\n    if (/ipad/.test(uaString)) {\r\n      this.whereIsShare = 'tetejn'\r\n    }\r\n    if (this.isChrome && this.isSafari) {\r\n      this.isSafari = false\r\n    }\r\n    if (\r\n      this.isChrome &&\r\n      (this.isEdgeDesktop || this.isEdgeiOS || this.isEdgeAndroid)\r\n    ) {\r\n      this.isChrome = false\r\n    }\r\n    if (\r\n      this.isSafari &&\r\n      (this.isEdgeDesktop || this.isEdgeiOS || this.isEdgeAndroid)\r\n    ) {\r\n      this.isSafari = false\r\n    }\r\n    if (this.isChrome && this.isOpera) {\r\n      this.isChrome = false\r\n    }\r\n\r\n    this.isStandalone = this.checkStandalone()\r\n\r\n    window.addEventListener('appinstalled', () => {\r\n      this.userInstalled = true\r\n    })\r\n  }\r\n\r\n  shouldShowIOSSafariHow2(): boolean {\r\n    return this.isSafari && this.isIOS && !this.isStandalone\r\n  }\r\n\r\n  shouldShowError(): boolean {\r\n    return !window.hasOwnProperty('BeforeInstallPromptEvent')\r\n  }\r\n\r\n  checkStandalone(): boolean {\r\n    return window.matchMedia('(display-mode: standalone)').matches\r\n  }\r\n}\r\n\r\nexport default new Browser()\r\n","import React, { FC, useState } from 'react'\r\nimport { ActivityIndicator, StyleSheet } from 'react-native'\r\nimport { Card, Image } from 'react-native-elements'\r\nimport Icon from 'react-native-vector-icons/MaterialIcons'\r\nimport { Text, View } from '../components/Themed'\r\nimport Browser from '../constants/Browser'\r\nimport Colors from '../constants/Colors'\r\n\r\nexport const SuccessCard: FC = () => {\r\n  return (\r\n    <Card containerStyle={styles.card}>\r\n      <Card.Title style={styles.title}>\r\n        <Icon\r\n          name=\"check-circle-outline\"\r\n          size={24}\r\n          style={styles.successIcon}\r\n        />\r\n        <Text>Sikeres Telepts!</Text>\r\n      </Card.Title>\r\n      <Card.Divider />\r\n      <View>\r\n        <Text style={styles.text}>\r\n          n sikeresen teleptette az alkalmazst, krjk nyissa meg azt, majd\r\n          aktivlja felhasznljt!\r\n        </Text>\r\n        <Text style={styles.text}>\r\n          Amennyiben tovbbi krdse maradt lpjen kapcsolatba\r\n          gyflszolglatunkkal!\r\n        </Text>\r\n      </View>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport const FailureCard: FC = () => {\r\n  return (\r\n    <Card containerStyle={styles.card}>\r\n      <Card.Title style={styles.title}>\r\n        <Icon name=\"error-outline\" size={24} style={styles.failureIcon} />\r\n        <Text>Sikertelen telepts!</Text>\r\n      </Card.Title>\r\n      <Card.Divider />\r\n      <View>\r\n        <Text style={styles.text}>\r\n          gy tnik n akadlyba tkztt az alkalmazs teleptse sorn. Ennek\r\n          tbb is oka lehet:\r\n        </Text>\r\n        <View style={styles.list}>\r\n          <Text\r\n            style={styles.listItem}\r\n          >{`\\u2022 Az alkalmazs mr teleptve van az n eszkzn`}</Text>\r\n          <Text\r\n            style={styles.listItem}\r\n          >{`\\u2022 Az n bngszje nem tmogatja az alkalmazs letltst`}</Text>\r\n        </View>\r\n        <Text style={styles.text}>\r\n          Amennyiben tovbbi krdse maradt lpjen kapcsolatba\r\n          gyflszolglatunkkal!\r\n        </Text>\r\n      </View>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport const WaitCard: FC = () => {\r\n  return (\r\n    <Card containerStyle={styles.card}>\r\n      <Card.Title style={styles.title}>\r\n        <ActivityIndicator\r\n          color={Colors.orangeWeb}\r\n          style={styles.warningIcon}\r\n        />\r\n        <Text>Krjk vrjon...</Text>\r\n      </Card.Title>\r\n      <Card.Divider />\r\n      <View>\r\n        <Text style={styles.text}>\r\n          A teleptsi kperny pillanatokon bell meg kell, hogy jelenjen.\r\n        </Text>\r\n        <Text style={styles.text}>\r\n          Amennyiben tovbbi krdse maradt lpjen kapcsolatba\r\n          gyflszolglatunkkal!\r\n        </Text>\r\n      </View>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport const SafariHowToCard: FC = () => {\r\n  return (\r\n    <Card containerStyle={styles.card}>\r\n      <Card.Title style={styles.title}>\r\n        <Icon name=\"warning\" size={24} style={styles.warningIcon} />\r\n        <Text>tmutat</Text>\r\n      </Card.Title>\r\n      <Card.Divider />\r\n      <View>\r\n        <Text style={styles.text}>\r\n          gy tnik n iOS krnyezetbl nyitotta meg rendszernket, gy az\r\n          alkalmazs csak manulisan telepthet.\r\n        </Text>\r\n        <View style={styles.list}>\r\n          <Text style={styles.listItem}>\r\n            {`\\u2022 Kattintson a \"Share\"  `}\r\n            <Image\r\n              placeholderStyle={styles.imagePlaceholder}\r\n              containerStyle={styles.imageContainer}\r\n              style={styles.image}\r\n              resizeMode={'stretch'}\r\n              source={{\r\n                uri: `data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMC44OCAyNy4yNSI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOm5vbmU7c3Ryb2tlOiMyMzFmMjA7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5TYWZhcmlfU2hhcmU8L3RpdGxlPjxwb2x5bGluZSBjbGFzcz0iY2xzLTEiIHBvaW50cz0iMTMuMTMgOCAyMC4zOCA4IDIwLjM4IDI2Ljc1IDAuNSAyNi43NSAwLjUgOCA3LjUgOCIvPjxsaW5lIGNsYXNzPSJjbHMtMSIgeDE9IjEwLjQ0IiB5MT0iMTciIHgyPSIxMC40NCIvPjxsaW5lIGNsYXNzPSJjbHMtMSIgeDE9IjEwLjQ4IiB5MT0iMC4zOCIgeDI9IjE1LjI4IiB5Mj0iNS4xOCIvPjxsaW5lIGNsYXNzPSJjbHMtMSIgeDE9IjEwLjQ0IiB5MT0iMC4zOCIgeDI9IjUuNjQiIHkyPSI1LjE4Ii8+PC9zdmc+`,\r\n              }}\r\n            />\r\n            {` gombra bngszje ${Browser.whereIsShare}`}\r\n          </Text>\r\n          <Text style={styles.listItem}>\r\n            {`\\u2022 Grgessen balra (amennyiben szksges) amg meg nem tallja az \"Add to Home Screen\" `}\r\n            <Image\r\n              placeholderStyle={styles.imagePlaceholder}\r\n              containerStyle={styles.imageContainer}\r\n              style={styles.image}\r\n              resizeMode={'stretch'}\r\n              source={{\r\n                uri: `data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNSAzNSI+PHRpdGxlPlNhZmFyaV9BMkhTPC90aXRsZT48cmVjdCB3aWR0aD0iMzUiIGhlaWdodD0iMzUiIHJ4PSI4IiByeT0iOCIgc3R5bGU9ImZpbGw6IzhmOGY4ZiIvPjxsaW5lIHgxPSIyNC43NSIgeTE9IjE3LjUiIHgyPSIxMC4yNSIgeTI9IjE3LjUiIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiNmZmY7c3Ryb2tlLXdpZHRoOjJweCIvPjxsaW5lIHgxPSIxNy41IiB5MT0iMTAuMjUiIHgyPSIxNy41IiB5Mj0iMjQuNzUiIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiNmZmY7c3Ryb2tlLXdpZHRoOjJweCIvPjwvc3ZnPg==`,\r\n              }}\r\n            />\r\n            {` gombot`}\r\n          </Text>\r\n        </View>\r\n        <Text style={styles.text}>\r\n          Amennyiben tovbbi krdse maradt lpjen kapcsolatba\r\n          gyflszolglatunkkal!\r\n        </Text>\r\n      </View>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default function InstallScreen() {\r\n  const [isInstalled, setIsInstalled] = useState(false)\r\n  window.addEventListener('appinstalled', () => {\r\n    setIsInstalled(true)\r\n  })\r\n  return (\r\n    <View style={styles.container}>\r\n      {(() => {\r\n        if (Browser.shouldShowIOSSafariHow2()) {\r\n          return <SafariHowToCard />\r\n        } else if (isInstalled) {\r\n          return <SuccessCard />\r\n        } else if (Browser.shouldShowError()) {\r\n          return <FailureCard />\r\n        } else {\r\n          return <WaitCard />\r\n        }\r\n      })()}\r\n    </View>\r\n  )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    padding: 20,\r\n    backgroundColor: 'gray',\r\n  },\r\n  fullView: { flex: 1, justifyContent: 'center', alignItems: 'center' },\r\n  card: {\r\n    width: '80%',\r\n    borderRadius: 20,\r\n  },\r\n  title: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  text: {\r\n    fontSize: 14,\r\n    color: 'gray',\r\n    marginBottom: 5,\r\n  },\r\n  list: {\r\n    marginVertical: 10,\r\n  },\r\n  listItem: {\r\n    marginBottom: 3,\r\n    marginLeft: 10,\r\n    fontSize: 14,\r\n    color: 'gray',\r\n  },\r\n  successIcon: {\r\n    color: '#7DE24E',\r\n    marginRight: 5,\r\n  },\r\n  failureIcon: {\r\n    color: '#FF0000',\r\n    marginRight: 5,\r\n  },\r\n  warningIcon: {\r\n    color: Colors.orangeWeb,\r\n    marginRight: 5,\r\n  },\r\n  imagePlaceholder: { backgroundColor: 'transparent' },\r\n  imageContainer: {},\r\n  image: { height: 16, width: 16 },\r\n})\r\n","import { StatusBar } from 'expo-status-bar'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { SafeAreaProvider } from 'react-native-safe-area-context'\r\nimport AppLoading from 'expo-app-loading'\r\nimport {\r\n  useFonts,\r\n  Roboto_300Light,\r\n  Roboto_400Regular,\r\n  Roboto_500Medium,\r\n} from '@expo-google-fonts/roboto'\r\n\r\nimport useCachedResources from './hooks/useCachedResources'\r\nimport Navigation from './navigation'\r\nimport { register } from './workers/serviceWorkerRegistration'\r\nimport { InstallPrompt } from './components/InstallPrompt'\r\nimport InstallScreen from './screens/InstallScreen'\r\nimport { UserProvider } from './context'\r\nimport { isProduction } from './constants/Config'\r\n\r\nregister()\r\n\r\nexport default function App() {\r\n  const isLoadingComplete = useCachedResources()\r\n  const [isInstalled, setIsInstalled] = useState(false)\r\n  useEffect(() => {\r\n    const listener = () => setIsInstalled(media.matches)\r\n    const media = window.matchMedia('(display-mode: standalone)')\r\n    /** @note change this to test install screens */\r\n    setIsInstalled(media.matches || !isProduction)\r\n    media.addEventListener('change', listener)\r\n    return () => media.removeEventListener('change', listener)\r\n  }, [])\r\n  let [fontsLoaded] = useFonts({\r\n    Roboto_300Light,\r\n    Roboto_400Regular,\r\n    Roboto_500Medium,\r\n  })\r\n\r\n  if (!isLoadingComplete || !fontsLoaded) {\r\n    return <AppLoading />\r\n  } else {\r\n    return (\r\n      <UserProvider>\r\n        <SafeAreaProvider>\r\n          <InstallPrompt />\r\n          {isInstalled ? <Navigation /> : <InstallScreen />}\r\n          <StatusBar />\r\n        </SafeAreaProvider>\r\n      </UserProvider>\r\n    )\r\n  }\r\n}\r\n","import { FontAwesome } from '@expo/vector-icons';\r\nimport * as Font from 'expo-font';\r\nimport * as SplashScreen from 'expo-splash-screen';\r\nimport * as React from 'react';\r\n\r\nexport default function useCachedResources() {\r\n  const [isLoadingComplete, setLoadingComplete] = React.useState(false);\r\n\r\n  // Load any resources or data that we need prior to rendering the app\r\n  React.useEffect(() => {\r\n    async function loadResourcesAndDataAsync() {\r\n      try {\r\n        SplashScreen.preventAutoHideAsync();\r\n\r\n        // Load fonts\r\n        await Font.loadAsync({\r\n          ...FontAwesome.font,\r\n          'space-mono': require('../assets/fonts/SpaceMono-Regular.ttf'),\r\n        });\r\n      } catch (e) {\r\n        // We might want to provide this error information to an error reporting service\r\n        console.warn(e);\r\n      } finally {\r\n        setLoadingComplete(true);\r\n        SplashScreen.hideAsync();\r\n      }\r\n    }\r\n\r\n    loadResourcesAndDataAsync();\r\n  }, []);\r\n\r\n  return isLoadingComplete;\r\n}\r\n","module.exports = __webpack_public_path__ + \"./fonts/SpaceMono-Regular.ttf\";"],"sourceRoot":""}